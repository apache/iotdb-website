import{_ as n,M as l,N as i,af as s,O as e,Q as d,ag as o,aT as a,C as r}from"./framework-ae7271bd.js";const c={},u=e("h1",{id:"é›†ç¾¤éƒ¨ç½²å·¥å…·",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#é›†ç¾¤éƒ¨ç½²å·¥å…·","aria-hidden":"true"},"#"),d(" é›†ç¾¤éƒ¨ç½²å·¥å…·")],-1),p={href:"https://github.com/TimechoLab/iotdb-deploy",target:"_blank",rel:"noopener noreferrer"},h=a(`<p>IoTDB é›†ç¾¤ç®¡ç†å·¥å…·æ—¨åœ¨è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿéƒ¨ç½²æ—¶æ“ä½œç¹çã€å®¹æ˜“å‡ºé”™çš„é—®é¢˜ï¼Œ ä¸»è¦åŒ…æ‹¬é¢„æ£€æŸ¥ã€éƒ¨ç½²ã€å¯åœã€æ¸…ç†ã€é”€æ¯ã€é…ç½®æ›´æ–°ã€ä»¥åŠå¼¹æ€§æ‰©ç¼©å®¹ç­‰åŠŸèƒ½ã€‚ ç”¨æˆ·å¯é€šè¿‡ä¸€è¡Œå‘½ä»¤å®ç°é›†ç¾¤ä¸€é”®éƒ¨ç½²å’Œç»´æŠ¤ç®¡ç†ï¼Œæå¤§åœ°é™ä½ç®¡ç†éš¾åº¦ã€‚</p><h2 id="ç¯å¢ƒä¾èµ–" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒä¾èµ–" aria-hidden="true">#</a> ç¯å¢ƒä¾èµ–</h2><p>IoTDB é›†ç¾¤ç®¡ç†å·¥å…·éœ€è¦ python3.8 åŠä»¥ä¸Šç‰ˆæœ¬ï¼ŒIoTDB è¦éƒ¨ç½²çš„æœºå™¨éœ€è¦ä¾èµ–jdk 8åŠä»¥ä¸Šç‰ˆæœ¬ã€lsof æˆ–è€… netstatã€unzipåŠŸèƒ½å¦‚æœæ²¡æœ‰è¯·è‡ªè¡Œå®‰è£…ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£æœ€åçš„ä¸€èŠ‚ç¯å¢ƒæ‰€éœ€å®‰è£…å‘½ä»¤ã€‚</p><h2 id="éƒ¨ç½²æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²æ–¹æ³•" aria-hidden="true">#</a> éƒ¨ç½²æ–¹æ³•</h2><ul><li>åœ¨æ ¹ç›®å½•å†…è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤åï¼š</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> build.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å³å¯åœ¨ä¹‹åçš„ shell å†…æ¿€æ´» iotd å…³é”®è¯ï¼Œå¹¶å®‰è£…æ‰€éœ€çš„ whl åŒ…ã€‚</p><ul><li>å¦‚æœè¦åœ¨è¯¥ shell å†…ç«‹åˆ»æ¿€æ´»è¯¥å…³é”®è¯ï¼Œéœ€è¦æ‰§è¡Œï¼š</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token string">&quot;iotd=python3 &lt;main.py&#39;s absolute path&gt;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="é›†ç¾¤é…ç½®æ–‡ä»¶ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤é…ç½®æ–‡ä»¶ä»‹ç»" aria-hidden="true">#</a> é›†ç¾¤é…ç½®æ–‡ä»¶ä»‹ç»</h2><ul><li>åœ¨<code>iotd/config</code> ç›®å½•ä¸‹æœ‰é›†ç¾¤é…ç½®çš„yamlæ–‡ä»¶ï¼Œyamlæ–‡ä»¶åå­—å°±æ˜¯é›†ç¾¤åå­—yaml æ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼Œä¸ºäº†æ–¹ä¾¿ç”¨æˆ·é…ç½®yamlæ–‡ä»¶åœ¨iotd/configç›®å½•ä¸‹é¢æä¾›äº†<code>default_cluster.yaml</code>ç¤ºä¾‹ã€‚</li><li>yaml æ–‡ä»¶é…ç½®ç”±<code>global</code>ã€<code>confignode_servers</code>ã€<code>datanode_servers</code>ã€<code>grafana_servers</code>(åŠŸèƒ½å¾…å¼€å‘)å››å¤§éƒ¨åˆ†ç»„æˆ</li><li>global æ˜¯é€šç”¨é…ç½®ä¸»è¦é…ç½®æœºå™¨ç”¨æˆ·åå¯†ç ã€IoTDBæœ¬åœ°å®‰è£…æ–‡ä»¶ã€Jdké…ç½®ç­‰ã€‚åœ¨<code>iotd/config</code>ç›®å½•ä¸­æä¾›äº†ä¸€ä¸ª<code>default_cluster.yaml</code>æ ·ä¾‹æ•°æ®ï¼Œ ç”¨æˆ·å¯ä»¥å¤åˆ¶ä¿®æ”¹æˆè‡ªå·±é›†ç¾¤åå­—å¹¶å‚è€ƒé‡Œé¢çš„è¯´æ˜è¿›è¡Œé…ç½®iotdbé›†ç¾¤ï¼Œåœ¨<code>default_cluster.yaml</code>æ ·ä¾‹ä¸­æ²¡æœ‰æ³¨é‡Šçš„å‡ä¸ºå¿…å¡«é¡¹ï¼Œå·²ç»æ³¨é‡Šçš„ä¸ºéå¿…å¡«é¡¹ã€‚</li></ul><p>ä¾‹å¦‚è¦æ‰§è¡Œ<code>default_cluster.yaml</code>æ£€æŸ¥å‘½ä»¤åˆ™éœ€è¦æ‰§è¡Œå‘½ä»¤<code>iotd cluster check default_cluster</code>å³å¯ï¼Œ æ›´å¤šè¯¦ç»†å‘½ä»¤è¯·å‚è€ƒä¸‹é¢å‘½ä»¤åˆ—è¡¨ã€‚</p>`,12),_=e("thead",null,[e("tr",null,[e("th",null,"å‚æ•°"),e("th",null,"è¯´æ˜"),e("th",null,"æ˜¯å¦å¿…å¡«")])],-1),b=e("tr",null,[e("td",null,"iotdb_zip_dir"),e("td",null,[d("IoTDB éƒ¨ç½²åˆ†å‘ç›®å½•ï¼Œå¦‚æœå€¼ä¸ºç©ºåˆ™ä»"),e("code",null,"iotdb_download_url"),d("æŒ‡å®šåœ°å€ä¸‹è½½")]),e("td",null,"éå¿…å¡«")],-1),g=e("tr",null,[e("td",null,"iotdb_download_url"),e("td",null,[d("IoTDB ä¸‹è½½åœ°å€ï¼Œå¦‚æœ"),e("code",null,"iotdb_zip_dir"),d(" æ²¡æœ‰å€¼åˆ™ä»æŒ‡å®šåœ°å€ä¸‹è½½")]),e("td",null,"éå¿…å¡«")],-1),m=e("tr",null,[e("td",null,"jdk_tar_dir"),e("td",null,"jdk æœ¬åœ°ç›®å½•ï¼Œå¯ä½¿ç”¨è¯¥ jdk è·¯å¾„è¿›è¡Œä¸Šä¼ éƒ¨ç½²è‡³ç›®æ ‡èŠ‚ç‚¹ã€‚"),e("td",null,"éå¿…å¡«")],-1),v=e("tr",null,[e("td",null,"jdk_deploy_dir"),e("td",null,[d("jdk è¿œç¨‹æœºå™¨éƒ¨ç½²ç›®å½•ï¼Œä¼šå°† jdk éƒ¨ç½²åˆ°ç›®æ ‡èŠ‚ç‚¹è¯¥æ–‡ä»¶å¤¹ä¸‹æœ€ç»ˆéƒ¨ç½²å®Œæˆçš„è·¯å¾„æ˜¯"),e("code",null,"<jdk_deploy_dir>/jdk_iotdb")]),e("td",null,"éå¿…å¡«")],-1),f=e("tr",null,[e("td",null,"user"),e("td",null,"sshç™»é™†éƒ¨ç½²æœºå™¨çš„ç”¨æˆ·å"),e("td",null,"å¿…å¡«")],-1),y=e("tr",null,[e("td",null,"password"),e("td",null,"sshç™»å½•çš„å¯†ç , å¦‚æœpasswordæœªæŒ‡å®šä½¿ç”¨pkeyç™»é™†, è¯·ç¡®ä¿å·²é…ç½®èŠ‚ç‚¹ä¹‹é—´sshç™»å½•å…å¯†é’¥"),e("td",null,"éå¿…å¡«")],-1),x=e("tr",null,[e("td",null,"pkey"),e("td",null,"å¯†é’¥ç™»é™†å¦‚æœpassword æœ‰å€¼ä¼˜å…ˆä½¿ç”¨passwordå¦åˆ™ä½¿ç”¨pkeyç™»é™†"),e("td",null,"éå¿…å¡«")],-1),k=e("tr",null,[e("td",null,"ssh_port"),e("td",null,"sshç™»å½•ç«¯å£"),e("td",null,"å¿…å¡«")],-1),I=e("tr",null,[e("td",null,"deploy_dir"),e("td",null,[d("iotdb éƒ¨ç½²ç›®å½•ï¼Œä¼šæŠŠ iotdb éƒ¨ç½²åˆ°ç›®æ ‡èŠ‚ç‚¹è¯¥æ–‡ä»¶å¤¹ä¸‹æœ€ç»ˆéƒ¨ç½²å®Œæˆçš„è·¯å¾„æ˜¯"),e("code",null,"<deploy_dir>/iotdb")]),e("td",null,"å¿…å¡«")],-1),T={href:"http://datanode-env.sh",target:"_blank",rel:"noopener noreferrer"},D=e("td",null,[d("å¯¹åº”"),e("code",null,"iotdb/config/datanode-env.sh")],-1),w=e("td",null,"éå¿…å¡«",-1),N={href:"http://confignode-env.sh",target:"_blank",rel:"noopener noreferrer"},B=e("td",null,[d("å¯¹åº”"),e("code",null,"iotdb/config/confignode-env.sh")],-1),j=e("td",null,"éå¿…å¡«",-1),C=e("tr",null,[e("td",null,"iotdb-common.properties"),e("td",null,[d("å¯¹åº”"),e("code",null,"iotdb/config/iotdb-common.properties")]),e("td",null,"éå¿…å¡«")],-1),S=e("tr",null,[e("td",null,"cn_target_config_node_list"),e("td",null,[d("é›†ç¾¤é…ç½®åœ°å€æŒ‡å‘å­˜æ´»çš„ConfigNode,é»˜è®¤æŒ‡å‘confignode_xï¼Œåœ¨"),e("code",null,"global"),d("ä¸"),e("code",null,"confignode_servers"),d("åŒæ—¶é…ç½®å€¼æ—¶ä¼˜å…ˆä½¿ç”¨"),e("code",null,"confignode_servers"),d("ä¸­çš„å€¼ï¼Œå¯¹åº”"),e("code",null,"iotdb/config/iotdb-confignode.properties"),d("ä¸­çš„"),e("code",null,"cn_target_config_node_list")]),e("td",null,"å¿…å¡«")],-1),L=e("tr",null,[e("td",null,"dn_target_config_node_list"),e("td",null,[d("é›†ç¾¤é…ç½®åœ°å€æŒ‡å‘å­˜æ´»çš„ConfigNode,é»˜è®¤æŒ‡å‘confignode_xï¼Œåœ¨"),e("code",null,"global"),d("ä¸"),e("code",null,"datanode_servers"),d("åŒæ—¶é…ç½®å€¼æ—¶ä¼˜å…ˆä½¿ç”¨"),e("code",null,"datanode_servers"),d("ä¸­çš„å€¼ï¼Œå¯¹åº”"),e("code",null,"iotdb/config/iotdb-datanode.properties"),d("ä¸­çš„"),e("code",null,"dn_target_config_node_list")]),e("td",null,"å¿…å¡«")],-1),z=a(`<ul><li>confignode_servers æ˜¯éƒ¨ç½²IoTDB Confignodesé…ç½®ï¼Œé‡Œé¢å¯ä»¥é…ç½®å¤šä¸ªConfignode é»˜è®¤å°†ç¬¬ä¸€ä¸ªå¯åŠ¨çš„ConfigNodeèŠ‚ç‚¹node1å½“ä½œSeed-ConfigNode</li></ul><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>æ˜¯å¦å¿…å¡«</th></tr></thead><tbody><tr><td>name</td><td>Confignode åç§°</td><td>å¿…å¡«</td></tr><tr><td>deploy_dir</td><td>IoTDB config node éƒ¨ç½²ç›®å½•ï¼Œæ³¨:è¯¥ç›®å½•ä¸èƒ½ä¸ä¸‹é¢çš„IoTDB data nodeéƒ¨ç½²ç›®å½•ç›¸åŒ</td><td>å¿…å¡«ï½œ</td></tr><tr><td>iotdb-confignode.properties</td><td>å¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>æ›´åŠ è¯¦ç»†è¯·å‚çœ‹<code>iotdb-confignode.properties</code>æ–‡ä»¶è¯´æ˜</td><td>éå¿…å¡«</td></tr><tr><td>cn_internal_address</td><td>å¯¹åº”iotdb/å†…éƒ¨é€šä¿¡åœ°å€ï¼Œå¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>ä¸­çš„<code>cn_internal_address</code></td><td>å¿…å¡«</td></tr><tr><td>cn_target_config_node_list</td><td>é›†ç¾¤é…ç½®åœ°å€æŒ‡å‘å­˜æ´»çš„ConfigNode,é»˜è®¤æŒ‡å‘confignode_xï¼Œåœ¨<code>global</code>ä¸<code>confignode_servers</code>åŒæ—¶é…ç½®å€¼æ—¶ä¼˜å…ˆä½¿ç”¨<code>confignode_servers</code>ä¸­çš„å€¼ï¼Œå¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>ä¸­çš„<code>cn_target_config_node_list</code></td><td>å¿…å¡«</td></tr><tr><td>cn_internal_port</td><td>å†…éƒ¨é€šä¿¡ç«¯å£ï¼Œå¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>ä¸­çš„<code>cn_internal_port</code></td><td>å¿…å¡«</td></tr><tr><td>cn_consensus_port</td><td>å¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>ä¸­çš„<code>cn_consensus_port</code></td><td>éå¿…å¡«</td></tr><tr><td>cn_data_dir</td><td>å¯¹åº”<code>iotdb/config/iotdb-confignode.properties</code>ä¸­çš„<code>cn_data_dir</code></td><td>å¿…å¡«</td></tr><tr><td>iotdb-common.properties</td><td>å¯¹åº”<code>iotdb/config/iotdb-common.properties</code>åœ¨<code>global</code>ä¸<code>confignode_servers</code>åŒæ—¶é…ç½®å€¼ä¼˜å…ˆä½¿ç”¨confignode_serversä¸­çš„å€¼</td><td>éå¿…å¡«</td></tr></tbody></table><ul><li>datanode_servers æ˜¯éƒ¨ç½²IoTDB Datanodesé…ç½®ï¼Œé‡Œé¢å¯ä»¥é…ç½®å¤šä¸ªDatanode</li></ul><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>æ˜¯å¦å¿…å¡«</th></tr></thead><tbody><tr><td>name</td><td>Datanode åç§°</td><td>å¿…å¡«</td></tr><tr><td>deploy_dir</td><td>IoTDB data node éƒ¨ç½²ç›®å½•ï¼Œæ³¨:è¯¥ç›®å½•ä¸èƒ½ä¸ä¸‹é¢çš„IoTDB config nodeéƒ¨ç½²ç›®å½•ç›¸åŒ</td><td>å¿…å¡«</td></tr><tr><td>iotdb-datanode.properties</td><td>å¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>æ›´åŠ è¯¦ç»†è¯·å‚çœ‹<code>iotdb-datanode.properties</code>æ–‡ä»¶è¯´æ˜</td><td>éå¿…å¡«</td></tr><tr><td>dn_rpc_address</td><td>datanode rpc åœ°å€å¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>ä¸­çš„<code>dn_rpc_address</code></td><td>å¿…å¡«</td></tr><tr><td>dn_internal_address</td><td>å†…éƒ¨é€šä¿¡åœ°å€ï¼Œå¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>ä¸­çš„<code>dn_internal_address</code></td><td>å¿…å¡«</td></tr><tr><td>dn_target_config_node_list</td><td>é›†ç¾¤é…ç½®åœ°å€æŒ‡å‘å­˜æ´»çš„ConfigNode,é»˜è®¤æŒ‡å‘confignode_xï¼Œåœ¨<code>global</code>ä¸<code>datanode_servers</code>åŒæ—¶é…ç½®å€¼æ—¶ä¼˜å…ˆä½¿ç”¨<code>datanode_servers</code>ä¸­çš„å€¼ï¼Œå¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>ä¸­çš„<code>dn_target_config_node_list</code></td><td>å¿…å¡«</td></tr><tr><td>dn_rpc_port</td><td>datanode rpcç«¯å£åœ°å€ï¼Œå¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>ä¸­çš„<code>dn_rpc_port</code></td><td>å¿…å¡«</td></tr><tr><td>dn_internal_port</td><td>å†…éƒ¨é€šä¿¡ç«¯å£ï¼Œå¯¹åº”<code>iotdb/config/iotdb-datanode.properties</code>ä¸­çš„<code>dn_internal_port</code></td><td>å¿…å¡«</td></tr><tr><td>iotdb-common.properties</td><td>å¯¹åº”<code>iotdb/config/iotdb-common.properties</code>åœ¨<code>global</code>ä¸<code>datanode_servers</code>åŒæ—¶é…ç½®å€¼ä¼˜å…ˆä½¿ç”¨<code>datanode_servers</code>ä¸­çš„å€¼</td><td>éå¿…å¡«</td></tr></tbody></table><ul><li>grafana_servers æ˜¯éƒ¨ç½²Grafana ç›¸å…³é…ç½® è¯¥æ¨¡å—æš‚ä¸æ”¯æŒ</li></ul><h2 id="å‘½ä»¤æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#å‘½ä»¤æ ¼å¼" aria-hidden="true">#</a> å‘½ä»¤æ ¼å¼</h2><p>æœ¬å·¥å…·çš„åŸºæœ¬ç”¨æ³•ä¸ºï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>cluster name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>params<span class="token operator">&gt;</span><span class="token punctuation">(</span>Optional<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>key è¡¨ç¤ºäº†å…·ä½“çš„å‘½ä»¤ã€‚</p></li><li><p>cluster name è¡¨ç¤ºé›†ç¾¤åç§°(å³<code>iotd/config</code> æ–‡ä»¶ä¸­yamlæ–‡ä»¶åå­—)ã€‚</p></li><li><p>params è¡¨ç¤ºäº†å‘½ä»¤çš„æ‰€éœ€å‚æ•°(é€‰å¡«)ã€‚</p></li><li><p>ä¾‹å¦‚éƒ¨ç½²default_clusteré›†ç¾¤çš„å‘½ä»¤æ ¼å¼ä¸ºï¼š</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster deploy default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>é›†ç¾¤çš„åŠŸèƒ½åŠå‚æ•°åˆ—è¡¨å¦‚ä¸‹ï¼š</li></ul><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>å‚æ•°</th></tr></thead><tbody><tr><td>check</td><td>æ£€æµ‹é›†ç¾¤æ˜¯å¦å¯ä»¥éƒ¨ç½²</td><td>é›†ç¾¤åç§°åˆ—è¡¨</td></tr><tr><td>clean</td><td>æ¸…ç†é›†ç¾¤</td><td>é›†ç¾¤åç§°</td></tr><tr><td>deploy</td><td>éƒ¨ç½²é›†ç¾¤</td><td>é›†ç¾¤åç§°</td></tr><tr><td>list</td><td>æ‰“å°é›†ç¾¤åŠçŠ¶æ€åˆ—è¡¨</td><td>æ— </td></tr><tr><td>start</td><td>å¯åŠ¨é›†ç¾¤</td><td>é›†ç¾¤åç§°,èŠ‚ç‚¹åç§°(å¯é€‰)</td></tr><tr><td>stop</td><td>å…³é—­é›†ç¾¤</td><td>é›†ç¾¤åç§°,èŠ‚ç‚¹åç§°(å¯é€‰)</td></tr><tr><td>restart</td><td>é‡å¯é›†ç¾¤</td><td>é›†ç¾¤åç§°</td></tr><tr><td>show</td><td>æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯ï¼Œdetailså­—æ®µè¡¨ç¤ºå±•ç¤ºé›†ç¾¤ä¿¡æ¯ç»†èŠ‚</td><td>é›†ç¾¤åç§°, details(å¯é€‰)</td></tr><tr><td>destroy</td><td>é”€æ¯é›†ç¾¤</td><td>é›†ç¾¤åç§°</td></tr><tr><td>scaleout</td><td>é›†ç¾¤æ‰©å®¹</td><td>é›†ç¾¤åç§°</td></tr><tr><td>scalein</td><td>é›†ç¾¤ç¼©å®¹</td><td>é›†ç¾¤åç§°ï¼Œ-Nï¼Œé›†ç¾¤èŠ‚ç‚¹åå­—æˆ–é›†ç¾¤èŠ‚ç‚¹ip+port</td></tr><tr><td>reload</td><td>é›†ç¾¤çƒ­åŠ è½½</td><td>é›†ç¾¤åç§°</td></tr><tr><td>distribute</td><td>é›†ç¾¤é…ç½®æ–‡ä»¶åˆ†å‘</td><td>é›†ç¾¤åç§°</td></tr><tr><td>run</td><td>ä¸€é”®æ‰§è¡Œé›†ç¾¤æ£€æŸ¥ã€éƒ¨ç½²ã€å¯åŠ¨</td><td>é›†ç¾¤åç§°</td></tr></tbody></table><h2 id="è¯¦ç»†å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#è¯¦ç»†å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹" aria-hidden="true">#</a> è¯¦ç»†å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹</h2><p>ä¸‹é¢çš„å‘½ä»¤éƒ½æ˜¯ä»¥default_cluster.yaml ä¸ºç¤ºä¾‹æ‰§è¡Œçš„ï¼Œç”¨æˆ·å¯ä»¥ä¿®æ”¹æˆè‡ªå·±çš„é›†ç¾¤æ–‡ä»¶æ¥æ‰§è¡Œ</p><h3 id="æ£€æŸ¥é›†ç¾¤éƒ¨ç½²ç¯å¢ƒå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#æ£€æŸ¥é›†ç¾¤éƒ¨ç½²ç¯å¢ƒå‘½ä»¤" aria-hidden="true">#</a> æ£€æŸ¥é›†ç¾¤éƒ¨ç½²ç¯å¢ƒå‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster check default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>éªŒè¯ç›®æ ‡èŠ‚ç‚¹æ˜¯å¦èƒ½å¤Ÿé€šè¿‡ SSH ç™»å½•</p></li><li><p>éªŒè¯å¯¹åº”èŠ‚ç‚¹ä¸Šçš„ JDK ç‰ˆæœ¬æ˜¯å¦æ»¡è¶³IoTDB jdk1.8åŠä»¥ä¸Šç‰ˆæœ¬ã€æœåŠ¡å™¨æ˜¯å¦æŒ‰ç…§unzipã€æ˜¯å¦å®‰è£…lsof æˆ–è€…netstat</p></li><li><p>å¦‚æœçœ‹åˆ°ä¸‹é¢æç¤º<code>Info:example check successfully!</code> è¯æ˜æœåŠ¡å™¨å·²ç»å…·å¤‡å®‰è£…çš„è¦æ±‚ï¼Œ å¦‚æœè¾“å‡º<code>Warn:example check fail!</code> è¯æ˜æœ‰éƒ¨åˆ†æ¡ä»¶æ²¡æœ‰æ»¡è¶³éœ€æ±‚å¯ä»¥æŸ¥çœ‹ä¸Šé¢çš„Warnæ—¥å¿—è¿›è¡Œä¿®å¤ï¼Œå‡å¦‚jdkæ²¡æœ‰æ»¡è¶³è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åœ¨yaml æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸ªjdk1.8 åŠä»¥ä¸Šç‰ˆæœ¬çš„è¿›è¡Œéƒ¨ç½²ä¸å½±å“åé¢ä½¿ç”¨ï¼Œå¦‚æœæ£€æŸ¥lsofã€netstatæˆ–è€…unzip ä¸æ»¡è¶³è¦æ±‚éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šè‡ªè¡Œå®‰è£…</p></li></ul><h3 id="éƒ¨ç½²é›†ç¾¤å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²é›†ç¾¤å‘½ä»¤" aria-hidden="true">#</a> éƒ¨ç½²é›†ç¾¤å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster deploy default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ ¹æ®<code>confignode_servers</code> å’Œ<code>datanode_servers</code>ä¸­çš„èŠ‚ç‚¹ä¿¡æ¯ä¸Šä¼ iotdbå‹ç¼©åŒ…å’Œjdkå‹ç¼©åŒ…(å¦‚æœyamlä¸­é…ç½®<code>jdk_tar_dir</code>å’Œ<code>jdk_deploy_dir</code>å€¼)</p></li><li><p>æ ¹æ®yamlæ–‡ä»¶èŠ‚ç‚¹é…ç½®ä¿¡æ¯ç”Ÿæˆå¹¶ä¸Šä¼ <code>iotdb-common.properties</code>ã€<code>iotdb-confignode.properties</code>ã€<code>iotdb-datanode.properties</code></p></li></ul><p>æç¤ºï¼šè¿™é‡Œçš„confignode å’Œdatanodeéƒ¨ç½²åˆ°åŒä¸€å°æœºå™¨ä¸Šæ—¶ç›®å½•ä¸èƒ½ä¸ºç›¸åŒï¼Œå¦åˆ™ä¼šè¢«åéƒ¨ç½²çš„èŠ‚ç‚¹æ–‡ä»¶è¦†ç›–</p><h3 id="å¯åŠ¨é›†ç¾¤å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨é›†ç¾¤å‘½ä»¤" aria-hidden="true">#</a> å¯åŠ¨é›†ç¾¤å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster check default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>å¯åŠ¨confignodeï¼Œæ ¹æ®yamlé…ç½®æ–‡ä»¶ä¸­<code>confignode_servers</code>ä¸­çš„é¡ºåºä¾æ¬¡å¯åŠ¨åŒæ—¶æ ¹æ®è¿›ç¨‹idæ£€æŸ¥confignodeæ˜¯å¦æ­£å¸¸ï¼Œç¬¬ä¸€ä¸ªconfignode ä¸ºseek config</p></li><li><p>å¯åŠ¨datanodeï¼Œæ ¹æ®yamlé…ç½®æ–‡ä»¶ä¸­<code>datanode_servers</code>ä¸­çš„é¡ºåºä¾æ¬¡å¯åŠ¨åŒæ—¶æ ¹æ®è¿›ç¨‹idæ£€æŸ¥datanodeæ˜¯å¦æ­£å¸¸</p></li><li><p>å¦‚æœæ ¹æ®è¿›ç¨‹idæ£€æŸ¥è¿›ç¨‹å­˜åœ¨åï¼Œé€šè¿‡cliä¾æ¬¡æ£€æŸ¥é›†ç¾¤åˆ—è¡¨ä¸­æ¯ä¸ªæœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœclié“¾æ¥å¤±è´¥åˆ™æ¯éš”10sé‡è¯•ä¸€æ¬¡ç›´åˆ°æˆåŠŸæœ€å¤šé‡è¯•5æ¬¡</p></li></ul><p><em>å¯åŠ¨å•ä¸ªèŠ‚ç‚¹å‘½ä»¤</em></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster start default_cluster datanode_1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster start default_cluster <span class="token number">192.168</span>.1.5:6667
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶</p></li><li><p>æ ¹æ®æä¾›çš„èŠ‚ç‚¹åç§°æˆ–è€…ip:portæ‰¾åˆ°å¯¹äºèŠ‚ç‚¹ä½ç½®ä¿¡æ¯,å¦‚æœå¯åŠ¨çš„èŠ‚ç‚¹æ˜¯<code>data_node</code>åˆ™ipä½¿ç”¨yaml æ–‡ä»¶ä¸­çš„<code>dn_rpc_address</code>ã€port ä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­datanode_servers ä¸­çš„<code>dn_rpc_port</code>ã€‚ å¦‚æœå¯åŠ¨çš„èŠ‚ç‚¹æ˜¯<code>config_node</code>åˆ™ipä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­confignode_servers ä¸­çš„<code>cn_internal_address</code> ã€port ä½¿ç”¨çš„æ˜¯<code>cn_internal_port</code></p></li><li><p>å¯åŠ¨è¯¥èŠ‚ç‚¹</p></li></ul><h3 id="æŸ¥çœ‹é›†ç¾¤çŠ¶æ€å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹é›†ç¾¤çŠ¶æ€å‘½ä»¤" aria-hidden="true">#</a> æŸ¥çœ‹é›†ç¾¤çŠ¶æ€å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster show default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster show default_cluster details
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>ä¾æ¬¡åœ¨datanodeé€šè¿‡cliæ‰§è¡Œ<code>show cluster details</code> å¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ‰§è¡ŒæˆåŠŸåˆ™ä¸ä¼šåœ¨åç»­èŠ‚ç‚¹ç»§ç»­æ‰§è¡Œcliç›´æ¥è¿”å›ç»“æœ</p></li></ul><h3 id="åœæ­¢é›†ç¾¤å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#åœæ­¢é›†ç¾¤å‘½ä»¤" aria-hidden="true">#</a> åœæ­¢é›†ç¾¤å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster stop default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ ¹æ®<code>datanode_servers</code>ä¸­datanodeèŠ‚ç‚¹ä¿¡æ¯ï¼ŒæŒ‰ç…§é…ç½®å…ˆåé¡ºåºä¾æ¬¡åœæ­¢datanodeèŠ‚ç‚¹</p></li><li><p>æ ¹æ®<code>confignode_servers</code>ä¸­confignodeèŠ‚ç‚¹ä¿¡æ¯ï¼ŒæŒ‰ç…§é…ç½®ä¾æ¬¡åœæ­¢confignodeèŠ‚ç‚¹</p></li></ul><p><em>åœæ­¢å•ä¸ªèŠ‚ç‚¹å‘½ä»¤</em></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster stop default_cluster datanode_1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster stop default_cluster <span class="token number">192.168</span>.1.5:6667
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶</p></li><li><p>æ ¹æ®æä¾›çš„èŠ‚ç‚¹åç§°æˆ–è€…ip:portæ‰¾åˆ°å¯¹äºèŠ‚ç‚¹ä½ç½®ä¿¡æ¯ï¼Œå¦‚æœåœæ­¢çš„èŠ‚ç‚¹æ˜¯<code>data_node</code>åˆ™ipä½¿ç”¨yaml æ–‡ä»¶ä¸­çš„<code>dn_rpc_address</code>ã€port ä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­datanode_servers ä¸­çš„<code>dn_rpc_port</code>ã€‚ å¦‚æœåœæ­¢çš„èŠ‚ç‚¹æ˜¯<code>config_node</code>åˆ™ipä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­confignode_servers ä¸­çš„<code>cn_internal_address</code> ã€port ä½¿ç”¨çš„æ˜¯<code>cn_internal_port</code></p></li><li><p>åœæ­¢è¯¥èŠ‚ç‚¹</p></li></ul><h3 id="æ¸…ç†é›†ç¾¤æ•°æ®å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#æ¸…ç†é›†ç¾¤æ•°æ®å‘½ä»¤" aria-hidden="true">#</a> æ¸…ç†é›†ç¾¤æ•°æ®å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster clean default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ ¹æ®<code>confignode_servers</code>å’Œ<code>datanode_servers</code>ä¸­nodeèŠ‚ç‚¹ä¿¡æ¯ï¼Œæ£€æŸ¥æ˜¯å¦èŠ‚ç‚¹è¿˜åœ¨è¿è¡Œï¼Œ å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ­£åœ¨è¿è¡Œåˆ™ä¸ä¼šæ‰§è¡Œæ¸…ç†å‘½ä»¤</p></li><li><p>æ ¹æ®<code>confignode_servers</code>å’Œ<code>datanode_servers</code>ä¸­nodeé…ç½®èŠ‚ç‚¹ä¿¡æ¯ä¾æ¬¡æ¸…ç†æ•°æ®(æ•°æ®ç›®å½•)</p></li></ul><h3 id="é‡å¯é›†ç¾¤å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é‡å¯é›†ç¾¤å‘½ä»¤" aria-hidden="true">#</a> é‡å¯é›†ç¾¤å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster restart default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ‰§è¡Œä¸Šè¿°çš„åœæ­¢é›†ç¾¤å‘½ä»¤(stop),ç„¶åæ‰§è¡Œå¯åŠ¨é›†ç¾¤å‘½ä»¤(start) å…·ä½“å‚è€ƒä¸Šé¢çš„start å’Œstop å‘½ä»¤</p></li></ul><h3 id="é›†ç¾¤ç¼©å®¹å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤ç¼©å®¹å‘½ä»¤" aria-hidden="true">#</a> é›†ç¾¤ç¼©å®¹å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster scalein default_cluster <span class="token parameter variable">-N</span> ip:port
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster scalein default_cluster <span class="token parameter variable">-N</span> clustername
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>åˆ¤æ–­è¦ç¼©å®¹çš„confignodeèŠ‚ç‚¹å’Œdatanodeæ˜¯å¦åªå‰©ä¸€ä¸ªï¼Œå¦‚æœåªå‰©ä¸€ä¸ªåˆ™ä¸èƒ½æ‰§è¡Œç¼©å®¹</p></li><li><p>ç„¶åæ ¹æ®ip:portæˆ–è€…clustername è·å–è¦ç¼©å®¹çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ‰§è¡Œç¼©å®¹å‘½ä»¤ï¼Œç„¶åé”€æ¯è¯¥èŠ‚ç‚¹ç›®å½•ï¼Œå¦‚æœç¼©å®¹çš„èŠ‚ç‚¹æ˜¯<code>data_node</code>åˆ™ipä½¿ç”¨yaml æ–‡ä»¶ä¸­çš„<code>dn_rpc_address</code>ã€port ä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­datanode_servers ä¸­çš„<code>dn_rpc_port</code>ã€‚ å¦‚æœç¼©å®¹çš„èŠ‚ç‚¹æ˜¯<code>config_node</code>åˆ™ipä½¿ç”¨çš„æ˜¯yamlæ–‡ä»¶ä¸­confignode_servers ä¸­çš„<code>cn_internal_address</code> ã€port ä½¿ç”¨çš„æ˜¯<code>cn_internal_port</code></p></li></ul><p>æç¤ºï¼šç›®å‰ä¸€æ¬¡ä»…æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹ç¼©å®¹</p><h3 id="é›†ç¾¤æ‰©å®¹å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤æ‰©å®¹å‘½ä»¤" aria-hidden="true">#</a> é›†ç¾¤æ‰©å®¹å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster scaleout default_cluster  <span class="token operator">&lt;</span>ç»å¯¹è·¯å¾„/iotdb.zip<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ‰¾åˆ°è¦æ‰©å®¹çš„èŠ‚ç‚¹ï¼Œæ‰§è¡Œä¸Šä¼ iotdbå‹ç¼©åŒ…å’ŒjdbåŒ…(å¦‚æœyamlä¸­é…ç½®<code>jdk_tar_dir</code>å’Œ<code>jdk_deploy_dir</code>å€¼)å¹¶è§£å‹</p></li><li><p>æ ¹æ®yamlæ–‡ä»¶èŠ‚ç‚¹é…ç½®ä¿¡æ¯ç”Ÿæˆå¹¶ä¸Šä¼ <code>iotdb-common.properties</code>ã€<code>iotdb-confignode.properties</code>æˆ–<code>iotdb-datanode.properties</code></p></li><li><p>æ‰§è¡Œå¯åŠ¨è¯¥èŠ‚ç‚¹å‘½ä»¤å¹¶æ ¡éªŒèŠ‚ç‚¹æ˜¯å¦å¯åŠ¨æˆåŠŸ</p></li></ul><h3 id="é”€æ¯é›†ç¾¤å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é”€æ¯é›†ç¾¤å‘½ä»¤" aria-hidden="true">#</a> é”€æ¯é›†ç¾¤å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster destroy default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶</p></li><li><p>æ ¹æ®<code>confignode_servers</code>å’Œ<code>datanode_servers</code>ä¸­nodeèŠ‚ç‚¹ä¿¡æ¯ï¼Œæ£€æŸ¥æ˜¯å¦èŠ‚ç‚¹è¿˜åœ¨è¿è¡Œï¼Œ å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹æ­£åœ¨è¿è¡Œåˆ™åœæ­¢é”€æ¯å‘½ä»¤</p></li><li><p>æ ¹æ®<code>confignode_servers</code>å’Œ<code>datanode_servers</code>ä¸­nodeé…ç½®èŠ‚ç‚¹ä¿¡æ¯ä¾æ¬¡æ¸…ç†æ•°æ®(â½‡å¿—â½¬å½•ï¼Œæ•°æ®â½¬å½•ã€iotdbéƒ¨ç½²çš„ç›®å½•)</p></li></ul><h3 id="åˆ†å‘é›†ç¾¤é…ç½®å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#åˆ†å‘é›†ç¾¤é…ç½®å‘½ä»¤" aria-hidden="true">#</a> åˆ†å‘é›†ç¾¤é…ç½®å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster distribute default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ ¹æ®yamlæ–‡ä»¶èŠ‚ç‚¹é…ç½®ä¿¡æ¯ç”Ÿæˆå¹¶ä¾æ¬¡ä¸Šä¼ <code>iotdb-common.properties</code>ã€<code>iotdb-confignode.properties</code>ã€<code>iotdb-datanode.properties</code>åˆ°æŒ‡å®šèŠ‚ç‚¹</p></li></ul><h3 id="çƒ­åŠ è½½é›†ç¾¤é…ç½®å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#çƒ­åŠ è½½é›†ç¾¤é…ç½®å‘½ä»¤" aria-hidden="true">#</a> çƒ­åŠ è½½é›†ç¾¤é…ç½®å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster reload default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>æ ¹æ® cluster-name æ‰¾åˆ°é»˜è®¤ä½ç½®çš„ yaml æ–‡ä»¶ï¼Œè·å–<code>confignode_servers</code>å’Œ<code>datanode_servers</code>é…ç½®ä¿¡æ¯</p></li><li><p>æ ¹æ®yamlæ–‡ä»¶èŠ‚ç‚¹é…ç½®ä¿¡æ¯ä¾æ¬¡åœ¨cliä¸­æ‰§è¡Œ<code>load configuration</code></p></li></ul><h3 id="ä¸€é”®å¯åŠ¨é›†ç¾¤é…ç½®å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ä¸€é”®å¯åŠ¨é›†ç¾¤é…ç½®å‘½ä»¤" aria-hidden="true">#</a> ä¸€é”®å¯åŠ¨é›†ç¾¤é…ç½®å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iotd cluster run default_cluster
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>è¯¥å‘½ä»¤ä¼šæ‰§è¡Œç¯å¢ƒæ£€æŸ¥ã€éƒ¨ç½²é›†ç¾¤å‘½ä»¤å’Œiotdb æœåŠ¡å¯åŠ¨å‘½ä»¤</li></ul><h2 id="ç³»ç»Ÿç»“æ„" tabindex="-1"><a class="header-anchor" href="#ç³»ç»Ÿç»“æ„" aria-hidden="true">#</a> ç³»ç»Ÿç»“æ„</h2><p>IoTDBé›†ç¾¤ç®¡ç†å·¥å…·ä¸»è¦ç”±clusterã€configã€logsã€toolsã€docã€binç›®å½•ç»„æˆã€‚</p><ul><li><p><code>cluster</code>å’Œ<code>tools</code>å­˜æ”¾éƒ¨ç½²å·¥å…·æ‰§è¡Œä»£ç ã€‚</p></li><li><p><code>config</code>å­˜æ”¾è¦éƒ¨ç½²çš„é›†ç¾¤é…ç½®æ–‡ä»¶å¦‚æœè¦ä½¿ç”¨é›†ç¾¤éƒ¨ç½²å·¥å…·éœ€è¦ä¿®æ”¹é‡Œé¢çš„yamlæ–‡ä»¶ã€‚</p></li><li><p><code>logs</code> å­˜æ”¾éƒ¨ç½²å·¥å…·æ—¥å¿—ï¼Œå¦‚æœæƒ³è¦æŸ¥çœ‹éƒ¨ç½²å·¥å…·æ‰§è¡Œæ—¥å¿—è¯·æŸ¥çœ‹<code>logs/iotd.log</code>ã€‚</p></li><li><p><code>bin</code> å­˜æ”¾é›†ç¾¤éƒ¨ç½²å·¥å…·æ‰€éœ€çš„äºŒè¿›åˆ¶å®‰è£…åŒ…ï¼ŒåŒ…æ‹¬jdkã€pythonå’Œwheelã€‚</p></li><li><p><code>doc</code> å­˜æ”¾ç”¨æˆ·æ‰‹å†Œã€å¼€å‘æ‰‹å†Œå’Œæ¨èéƒ¨ç½²æ‰‹å†Œã€‚</p></li></ul><h2 id="ç¯å¢ƒæ‰€éœ€å®‰è£…å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒæ‰€éœ€å®‰è£…å‘½ä»¤" aria-hidden="true">#</a> ç¯å¢ƒæ‰€éœ€å®‰è£…å‘½ä»¤</h2><ul><li><p>iotdbè‡ªèº«éœ€è¦ linux çš„ lsof å’Œ netstat å‘½ä»¤ï¼Œæ‰€ä»¥éœ€è¦é¢„å…ˆå®‰è£…</p><p>Ubuntu: apt-get install lsof net-tools</p><p>Centos: yum install lsof net-tools</p></li><li><p>iotdåˆ™éœ€è¦unzipæ¥è§£å‹iotdbçš„å‹ç¼©åŒ…</p><p>Ubuntu: apt-get install unzip</p><p>Centos: yum install unzip</p></li><li><p>Ubuntu20+çš„æ“ä½œç³»ç»ŸåŸç”Ÿå¸¦æœ‰python3.7+ï¼Œä½†æ˜¯éœ€è¦apt-get install python-pipï¼Œcentos7+çš„æ“ä½œç³»ç»Ÿåªæœ‰python2ï¼Œ</p><p>Ubuntu: apt-get install python3-pip</p><p>Centos: åœ¨åŒæ“ä½œç³»ç»Ÿæœºå™¨ä¸Šè¿›è¡Œç¼–è¯‘ä¹‹åæ‹·è´ï¼Œæˆ–è€…ä½¿ç”¨anacondaï¼ˆ700MBï¼Œè§£å‹ä¹‹å4Gï¼‰</p></li></ul>`,73);function A(O,E){const t=r("ExternalLinkIcon");return l(),i("div",null,[s(`

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at
    
        http://www.apache.org/licenses/LICENSE-2.0
    
    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.

`),u,e("p",null,[e("strong",null,[e("a",p,[d("ğŸ‘‰ ä¸‹è½½åœ°å€ ğŸ‘ˆ"),o(t)])])]),h,e("table",null,[_,e("tbody",null,[b,g,m,v,f,y,x,k,I,e("tr",null,[e("td",null,[e("a",T,[d("datanode-env.sh"),o(t)])]),D,w]),e("tr",null,[e("td",null,[e("a",N,[d("confignode-env.sh"),o(t)])]),B,j]),C,S,L])]),z])}const V=n(c,[["render",A],["__file","IoTDB-Deploy.html.vue"]]);export{V as default};