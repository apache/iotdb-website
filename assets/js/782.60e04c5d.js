(window.webpackJsonp=window.webpackJsonp||[]).push([[782],{1428:function(s,t,a){"use strict";a.r(t);var n=a(89),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"m4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m4"}},[s._v("#")]),s._v(" M4")]),s._v(" "),a("h2",{attrs:{id:"m4-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m4-2"}},[s._v("#")]),s._v(" M4")]),s._v(" "),a("h3",{attrs:{id:"函数简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数简介"}},[s._v("#")]),s._v(" 函数简介")]),s._v(" "),a("p",[s._v("本函数使用 MAC (merging all chunks) 方法执行M4聚合查询。")]),s._v(" "),a("p",[a("strong",[s._v("函数名：")]),s._v(" M4")]),s._v(" "),a("p",[a("strong",[s._v("输入序列：")]),s._v(" 仅支持单个输入序列，类型为 INT32 / INT64 / FLOAT / DOUBLE。")]),s._v(" "),a("p",[a("strong",[s._v("参数：")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("tqs")]),s._v(": 查询的开始时间（含）。")]),s._v(" "),a("li",[a("code",[s._v("tqe")]),s._v(": 查询的结束时间（不含）。")]),s._v(" "),a("li",[a("code",[s._v("w")]),s._v(": M4聚合中的时间跨度数量。")])]),s._v(" "),a("p",[a("strong",[s._v("输出序列：")]),s._v(" 每个时间跨度的首、尾、最小和最大值。")]),s._v(" "),a("p",[a("code",[s._v("[tqs+(tqe-tqs)/w*(i-1),tqs+(tqe-tqs)/w*i), i=1,...,w.")])]),s._v(" "),a("p",[a("strong",[s._v("说明：")])]),s._v(" "),a("ul",[a("li",[s._v("函数当前仅适用于 "),a("code",[s._v("research/M4-visualization")]),s._v(" 分支。")]),s._v(" "),a("li",[s._v("输入参数需确保 "),a("code",[s._v("(tqe-tqs)")]),s._v(" 是 "),a("code",[s._v("w")]),s._v(" 的倍数。")]),s._v(" "),a("li",[s._v("查询时需在 where 语句后添加 "),a("code",[s._v("time>=tqs and time<tqe")]),s._v("。")])]),s._v(" "),a("h3",{attrs:{id:"使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[s._v("#")]),s._v(" 使用示例")]),s._v(" "),a("p",[s._v("输入序列:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("+-----------------------------+------------------+\n|                         Time|root.vehicle.d0.s0|\n+-----------------------------+------------------+\n|1970-01-01T08:00:00.001+08:00|               5.0|\n|1970-01-01T08:00:00.002+08:00|              15.0|\n|1970-01-01T08:00:00.005+08:00|              10.0|\n|1970-01-01T08:00:00.008+08:00|               8.0|\n|1970-01-01T08:00:00.010+08:00|              20.0|\n|1970-01-01T08:00:00.020+08:00|              20.0|\n|1970-01-01T08:00:00.025+08:00|               8.0|\n|1970-01-01T08:00:00.027+08:00|              20.0|\n|1970-01-01T08:00:00.030+08:00|              40.0|\n|1970-01-01T08:00:00.033+08:00|               9.0|\n|1970-01-01T08:00:00.035+08:00|              10.0|\n|1970-01-01T08:00:00.040+08:00|              20.0|\n|1970-01-01T08:00:00.045+08:00|              30.0|\n|1970-01-01T08:00:00.052+08:00|               8.0|\n|1970-01-01T08:00:00.054+08:00|              18.0|\n|1970-01-01T08:00:00.120+08:00|               8.0|\n+-----------------------------+------------------+\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("用于查询的 SQL 语句:")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" M4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tqs'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tqe'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vehicle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d0 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("输出序列:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('+-----------------------------+----------------------------------------------------------------------------------+\n|                         Time|                           M4(root.vehicle.d0.s0, "tqs"="0", "tqe"="100", "w"="4")|\n+-----------------------------+----------------------------------------------------------------------------------+\n|1970-01-01T08:00:00.000+08:00|  FirstPoint=(1,5.0), LastPoint=(20,20.0), BottomPoint=(1,5.0), TopPoint=(10,20.0)|\n|1970-01-01T08:00:00.025+08:00|FirstPoint=(25,8.0), LastPoint=(45,30.0), BottomPoint=(25,8.0), TopPoint=(30,40.0)|\n|1970-01-01T08:00:00.050+08:00|FirstPoint=(52,8.0), LastPoint=(54,18.0), BottomPoint=(52,8.0), TopPoint=(54,18.0)|\n|1970-01-01T08:00:00.075+08:00|                                                                             empty|\n+-----------------------------+----------------------------------------------------------------------------------+\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);