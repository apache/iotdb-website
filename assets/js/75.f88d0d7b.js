(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{729:function(e,t,i){"use strict";i.r(t);var s=i(93),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"tsfile-split-tool"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#tsfile-split-tool"}},[e._v("#")]),e._v(" TsFile Split Tool")]),e._v(" "),i("p",[e._v("IoTDB version 0.12 could produce large files, which leads to difficulties in maintenance. Therefore, since version 0.12.5 and 0.13, TsFile split tool is provided. The split tool can split the large TsFile into several small TsFile according to the configuration.")]),e._v(" "),i("p",[e._v("After building the server, the startup script of this tool will appear under the "),i("code",[e._v("server\\target\\iotdb-server-{version}\\tools\\tsfileToolSet")]),e._v(" directory.")]),e._v(" "),i("p",[e._v("Command:")]),e._v(" "),i("p",[e._v("For Windows:")]),e._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v(".\\split-tsfile-tool.bat <path of your TsFile> (-level <LEVEL of the target files>) (-size <SIZE of the target files>)\n")])]),e._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[e._v("1")]),i("br")])]),i("p",[e._v("For Linux or MacOs:")]),e._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("./split-tsfile-tool.sh <path of your TsFile> (-level <LEVEL of the target files>) (-size <SIZE of the target files>)\n")])]),e._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[e._v("1")]),i("br")])]),i("blockquote",[i("p",[e._v("Note that if "),i("code",[e._v("-level")]),e._v(" is not set, the default level of target files is 10; if "),i("code",[e._v("-size")]),e._v(" is not set, the default size of target files is about 1GB. The unit of "),i("code",[e._v("-size")]),e._v(" is byte.\nFor example, if the target files size is 100MB, and the level is 6, the command would be "),i("code",[e._v("./split-tsfile-tool.sh test.tsfile -level 6 -size 1048576000")]),e._v(" (Linux or MacOs)")])]),e._v(" "),i("p",[e._v("Here are some configurations:")]),e._v(" "),i("ol",[i("li",[e._v("The size of target files could be configured by the input param, which is 1GB by default. This configuration is also the target file size in compaction in 0.13. File size could determine whether the compaction is proceeded in 0.13, so this configuration could make sure there is no compaction after restarting.")]),e._v(" "),i("li",[e._v("The level of target files is determined by the input param, which is 10 by default. File level could determine whether the compaction is proceeded in 0.12, so this configuration could make sure there is no compaction after restarting.")]),e._v(" "),i("li",[e._v("The points number of chunk could be configured by "),i("code",[e._v("chunk_point_num_lower_bound_in_compaction")]),e._v(", which is 100 by default. This configuration is also the points number of target file in compaction in 0.13.")])]),e._v(" "),i("p",[e._v("Here are some more tips:")]),e._v(" "),i("ol",[i("li",[e._v("TsFile split tool is offline maintenance tool. Before splitting a file, you should make sure the file to be split is closed (aka with "),i("code",[e._v("tsFile.resource")]),e._v(") and IoTDB is shut down. After splitting, restart IoTDB.")]),e._v(" "),i("li",[e._v("TsFile split tool doesn't support splitting TsFile with deletion interval (aka with "),i("code",[e._v(".mods")]),e._v(" file) and with aligned timeseries.")])])])}),[],!1,null,null,null);t.default=o.exports}}]);