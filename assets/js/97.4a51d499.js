(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{752:function(t,s,a){"use strict";a.r(s);var e=a(93),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"select-expression"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#select-expression"}},[t._v("#")]),t._v(" Select Expression")]),t._v(" "),a("h2",{attrs:{id:"syntax-definition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax-definition"}},[t._v("#")]),t._v(" Syntax Definition")]),t._v(" "),a("p",[t._v("A selection expression ("),a("code",[t._v("selectExpr")]),t._v(") is a component of a SELECT clause, each "),a("code",[t._v("selectExpr")]),t._v(" corresponds to a column in the query result set, and its syntax is defined as follows:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[t._v("selectClause\n: "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" resultColumn "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" resultColumn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nresultColumn\n: selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" alias"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nselectExpr\n: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'('")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("')'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'!'")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>='")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<='")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'=='")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'!='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("OR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" selectExpr\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" functionName "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'('")]),t._v(" selectExpr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" selectExpr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" functionAttribute"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("')'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" timeSeriesSuffixPath\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" number\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("From this syntax definition, "),a("code",[t._v("selectExpr")]),t._v(" can contain:")]),t._v(" "),a("ul",[a("li",[t._v("suffix of time series path")]),t._v(" "),a("li",[t._v("function\n"),a("ul",[a("li",[t._v("Built-in aggregation functions, see "),a("RouterLink",{attrs:{to:"/UserGuide/Master/Query-Data/Aggregate-Query.html"}},[t._v("Aggregate Query")]),t._v(" for details.")],1),t._v(" "),a("li",[t._v("Time series generation function")]),t._v(" "),a("li",[t._v("User-defined functions, see "),a("RouterLink",{attrs:{to:"/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html"}},[t._v("UDF")]),t._v(" for details.")],1)])]),t._v(" "),a("li",[t._v("expressions\n"),a("ul",[a("li",[t._v("Arithmetic operation expressions")]),t._v(" "),a("li",[t._v("Time series generating nested expressions")]),t._v(" "),a("li",[t._v("Aggregate query nested expressions")])])]),t._v(" "),a("li",[t._v("Numeric constants (could be used in expressions only)")])]),t._v(" "),a("h2",{attrs:{id:"arithmetic-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arithmetic-query"}},[t._v("#")]),t._v(" Arithmetic Query")]),t._v(" "),a("blockquote",[a("p",[t._v("Please note that Aligned Timeseries has not been supported in Arithmetic Query yet. An error message is expected if you use Arithmetic Query with Aligned Timeseries selected.")])]),t._v(" "),a("h3",{attrs:{id:"operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operators"}},[t._v("#")]),t._v(" Operators")]),t._v(" "),a("h4",{attrs:{id:"unary-arithmetic-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unary-arithmetic-operators"}},[t._v("#")]),t._v(" Unary Arithmetic Operators")]),t._v(" "),a("p",[t._v("Supported operators: "),a("code",[t._v("+")]),t._v(", "),a("code",[t._v("-")])]),t._v(" "),a("p",[t._v("Supported input data types: "),a("code",[t._v("INT32")]),t._v(", "),a("code",[t._v("INT64")]),t._v(" and "),a("code",[t._v("FLOAT")])]),t._v(" "),a("p",[t._v("Output data type: consistent with the input data type")]),t._v(" "),a("h4",{attrs:{id:"binary-arithmetic-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#binary-arithmetic-operators"}},[t._v("#")]),t._v(" Binary Arithmetic Operators")]),t._v(" "),a("p",[t._v("Supported operators: "),a("code",[t._v("+")]),t._v(", "),a("code",[t._v("-")]),t._v(", "),a("code",[t._v("*")]),t._v(", "),a("code",[t._v("/")]),t._v(", "),a("code",[t._v("%")])]),t._v(" "),a("p",[t._v("Supported input data types: "),a("code",[t._v("INT32")]),t._v(", "),a("code",[t._v("INT64")]),t._v(", "),a("code",[t._v("FLOAT")]),t._v(" and "),a("code",[t._v("DOUBLE")])]),t._v(" "),a("p",[t._v("Output data type: "),a("code",[t._v("DOUBLE")])]),t._v(" "),a("p",[t._v("Note: Only when the left operand and the right operand under a certain timestamp are not  "),a("code",[t._v("null")]),t._v(", the binary arithmetic operation will have an output value.")]),t._v(" "),a("h3",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" s2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-------------+--------------+-------------+-------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+\n|                         Time|root.sg.d1.s1|-root.sg.d1.s1|root.sg.d1.s2|root.sg.d1.s2|root.sg.d1.s1 + root.sg.d1.s2|root.sg.d1.s1 - root.sg.d1.s2|root.sg.d1.s1 * root.sg.d1.s2|root.sg.d1.s1 / root.sg.d1.s2|root.sg.d1.s1 % root.sg.d1.s2|\n+-----------------------------+-------------+--------------+-------------+-------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+\n|1970-01-01T08:00:00.001+08:00|          1.0|          -1.0|          1.0|          1.0|                          2.0|                          0.0|                          1.0|                          1.0|                          0.0|\n|1970-01-01T08:00:00.002+08:00|          2.0|          -2.0|          2.0|          2.0|                          4.0|                          0.0|                          4.0|                          1.0|                          0.0|\n|1970-01-01T08:00:00.003+08:00|          3.0|          -3.0|          3.0|          3.0|                          6.0|                          0.0|                          9.0|                          1.0|                          0.0|\n|1970-01-01T08:00:00.004+08:00|          4.0|          -4.0|          4.0|          4.0|                          8.0|                          0.0|                         16.0|                          1.0|                          0.0|\n|1970-01-01T08:00:00.005+08:00|          5.0|          -5.0|          5.0|          5.0|                         10.0|                          0.0|                         25.0|                          1.0|                          0.0|\n+-----------------------------+-------------+--------------+-------------+-------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+-----------------------------+\nTotal line number = 5\nIt costs 0.014s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"compare-expression"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compare-expression"}},[t._v("#")]),t._v(" Compare Expression")]),t._v(" "),a("h4",{attrs:{id:"unary-logical-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unary-logical-operators"}},[t._v("#")]),t._v(" Unary Logical Operators")]),t._v(" "),a("p",[t._v("Supported operator "),a("code",[t._v("!")])]),t._v(" "),a("p",[t._v("Supported input data types: "),a("code",[t._v("BOOLEAN")])]),t._v(" "),a("p",[t._v("Output data type: "),a("code",[t._v("BOOLEAN")])]),t._v(" "),a("p",[t._v("Hint: the priority of "),a("code",[t._v("!")]),t._v(" is the same as "),a("code",[t._v("-")]),t._v(". Remember to use brackets to modify priority.")]),t._v(" "),a("h4",{attrs:{id:"binary-compare-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#binary-compare-operators"}},[t._v("#")]),t._v(" Binary Compare Operators")]),t._v(" "),a("p",[t._v("Supported operators "),a("code",[t._v(">")]),t._v(", "),a("code",[t._v(">=")]),t._v(", "),a("code",[t._v("<")]),t._v(", "),a("code",[t._v("<=")]),t._v(", "),a("code",[t._v("==")]),t._v(", "),a("code",[t._v("!=")])]),t._v(" "),a("p",[t._v("Supported input data types: "),a("code",[t._v("INT32")]),t._v(", "),a("code",[t._v("INT64")]),t._v(", "),a("code",[t._v("FLOAT")]),t._v(" and "),a("code",[t._v("DOUBLE")])]),t._v(" "),a("p",[t._v("It will transform all type to "),a("code",[t._v("DOUBLE")]),t._v(" then do computation.")]),t._v(" "),a("p",[t._v("Output data type: "),a("code",[t._v("BOOLEAN")])]),t._v(" "),a("h4",{attrs:{id:"binary-logical-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#binary-logical-operators"}},[t._v("#")]),t._v(" Binary Logical Operators")]),t._v(" "),a("p",[t._v("Supported operators AND:"),a("code",[t._v("and")]),t._v(","),a("code",[t._v("&")]),t._v(", "),a("code",[t._v("&&")]),t._v("; OR:"),a("code",[t._v("or")]),t._v(","),a("code",[t._v("|")]),t._v(","),a("code",[t._v("||")])]),t._v(" "),a("p",[t._v("Supported input data types: "),a("code",[t._v("BOOLEAN")])]),t._v(" "),a("p",[t._v("Output data type: "),a("code",[t._v("BOOLEAN")])]),t._v(" "),a("p",[t._v("Note: Only when the left operand and the right operand under a certain timestamp are both "),a("code",[t._v("BOOLEAN")]),t._v(" type, the binary logic operation will have an output value.")]),t._v(" "),a("h3",{attrs:{id:"example-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-2"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Output:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select a, b, a > 10, a <= b, !(a <= b), a > 10 && a > b from root.test;\n+-----------------------------+-----------+-----------+----------------+--------------------------+---------------------------+------------------------------------------------+\n|                         Time|root.test.a|root.test.b|root.test.a > 10|root.test.a <= root.test.b|!root.test.a <= root.test.b|(root.test.a > 10) & (root.test.a > root.test.b)|\n+-----------------------------+-----------+-----------+----------------+--------------------------+---------------------------+------------------------------------------------+\n|1970-01-01T08:00:00.001+08:00|         23|       10.0|            true|                     false|                       true|                                            true|\n|1970-01-01T08:00:00.002+08:00|         33|       21.0|            true|                     false|                       true|                                            true|\n|1970-01-01T08:00:00.004+08:00|         13|       15.0|            true|                      true|                      false|                                           false|\n|1970-01-01T08:00:00.005+08:00|         26|        0.0|            true|                     false|                       true|                                            true|\n|1970-01-01T08:00:00.008+08:00|          1|       22.0|           false|                      true|                      false|                                           false|\n|1970-01-01T08:00:00.010+08:00|         23|       12.0|            true|                     false|                       true|                                            true|\n+-----------------------------+-----------+-----------+----------------+--------------------------+---------------------------+------------------------------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"priority-of-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#priority-of-operators"}},[t._v("#")]),t._v(" Priority of Operators")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("priority")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("operator")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("meaning")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("-")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Unary operator negative")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("+")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Unary operator positive")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("!")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Unary operator negation")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("*")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary operator multiply")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("/")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary operator division")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("%")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary operator remainder")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("+")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary operator add")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("-")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary operator minus")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v(">")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator greater than")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v(">=")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator greater or equal to")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("<")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator less than")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("<=")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator less or equal to")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("==")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator equal to")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("!=")]),t._v("/"),a("code",[t._v("<>")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary compare operator non-equal to")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("REGEXP")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("REGEXP")]),t._v(" operator")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("LIKE")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("LIKE")]),t._v(" operator")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("IN")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("IN")]),t._v(" operator")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("and")]),t._v("/"),a("code",[t._v("&")]),t._v("/"),a("code",[t._v("&&")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary logic operator and")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("or")]),t._v("/ | / ||")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Binary logic operator or")])])])]),t._v(" "),a("h2",{attrs:{id:"time-series-generating-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#time-series-generating-functions"}},[t._v("#")]),t._v(" Time Series Generating Functions")]),t._v(" "),a("p",[t._v("The time series generating function takes several time series as input and outputs one time series. Unlike the aggregation function, the result set of the time series generating function has a timestamp column.")]),t._v(" "),a("p",[t._v("All time series generating functions can accept * as input.")]),t._v(" "),a("p",[t._v("IoTDB supports hybrid queries of time series generating function queries and raw data queries.")]),t._v(" "),a("blockquote",[a("p",[t._v("Please note that Aligned Timeseries has not been supported in queries with hybrid functions yet. An error message is expected if you use hybrid functions with Aligned Timeseries selected in a query statement.")])]),t._v(" "),a("h3",{attrs:{id:"mathematical-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mathematical-functions"}},[t._v("#")]),t._v(" Mathematical Functions")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following mathematical functions. The behavior of these mathematical functions is consistent with the behavior of these functions in the Java Math standard library.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Corresponding Implementation in the Java Standard Library")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("SIN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#sin(double)")])]),t._v(" "),a("tr",[a("td",[t._v("COS")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#cos(double)")])]),t._v(" "),a("tr",[a("td",[t._v("TAN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#tan(double)")])]),t._v(" "),a("tr",[a("td",[t._v("ASIN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#asin(double)")])]),t._v(" "),a("tr",[a("td",[t._v("ACOS")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#acos(double)")])]),t._v(" "),a("tr",[a("td",[t._v("ATAN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#atan(double)")])]),t._v(" "),a("tr",[a("td",[t._v("SINH")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#sinh(double)")])]),t._v(" "),a("tr",[a("td",[t._v("COSH")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#cosh(double)")])]),t._v(" "),a("tr",[a("td",[t._v("TANH")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#tanh(double)")])]),t._v(" "),a("tr",[a("td",[t._v("DEGREES")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#toDegrees(double)")])]),t._v(" "),a("tr",[a("td",[t._v("RADIANS")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#toRadians(double)")])]),t._v(" "),a("tr",[a("td",[t._v("ABS")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Same type as the input series")]),t._v(" "),a("td",[t._v("Math#abs(int) / Math#abs(long) /Math#abs(float) /Math#abs(double)")])]),t._v(" "),a("tr",[a("td",[t._v("SIGN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#signum(double)")])]),t._v(" "),a("tr",[a("td",[t._v("CEIL")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#ceil(double)")])]),t._v(" "),a("tr",[a("td",[t._v("FLOOR")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#floor(double)")])]),t._v(" "),a("tr",[a("td",[t._v("ROUND")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#rint(double)")])]),t._v(" "),a("tr",[a("td",[t._v("EXP")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#exp(double)")])]),t._v(" "),a("tr",[a("td",[t._v("LN")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#log(double)")])]),t._v(" "),a("tr",[a("td",[t._v("LOG10")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#log10(double)")])]),t._v(" "),a("tr",[a("td",[t._v("SQRT")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Math#sqrt(double)")])])])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("offset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-------------------+-------------------+--------------------+-------------------+\n|                         Time|     root.sg1.d1.s1|sin(root.sg1.d1.s1)| cos(root.sg1.d1.s1)|tan(root.sg1.d1.s1)|\n+-----------------------------+-------------------+-------------------+--------------------+-------------------+\n|2020-12-10T17:11:49.037+08:00|7360723084922759782| 0.8133527237573284|  0.5817708713544664| 1.3980636773094157|\n|2020-12-10T17:11:49.038+08:00|4377791063319964531|-0.8938962705202537|  0.4482738644511651| -1.994085181866842|\n|2020-12-10T17:11:49.039+08:00|7972485567734642915| 0.9627757585308978|-0.27030138509681073|-3.5618602479083545|\n|2020-12-10T17:11:49.040+08:00|2508858212791964081|-0.6073417341629443| -0.7944406950452296| 0.7644897069734913|\n|2020-12-10T17:11:49.041+08:00|2817297431185141819|-0.8419358900502509| -0.5395775727782725| 1.5603611649667768|\n+-----------------------------+-------------------+-------------------+--------------------+-------------------+\nTotal line number = 5\nIt costs 0.008s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h3",{attrs:{id:"string-processing-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#string-processing-functions"}},[t._v("#")]),t._v(" String Processing Functions")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following string processing functions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("STRING_CONTAINS")]),t._v(" "),a("td",[t._v("TEXT")]),t._v(" "),a("td",[a("code",[t._v("s")]),t._v(": the sequence to search for")]),t._v(" "),a("td",[t._v("BOOLEAN")]),t._v(" "),a("td",[t._v("Determine whether "),a("code",[t._v("s")]),t._v(" is in the string")])]),t._v(" "),a("tr",[a("td",[t._v("STRING_MATCHES")]),t._v(" "),a("td",[t._v("TEXT")]),t._v(" "),a("td",[a("code",[t._v("regex")]),t._v(": the regular expression to which the string is to be matched")]),t._v(" "),a("td",[t._v("BOOLEAN")]),t._v(" "),a("td",[t._v("Determine whether the string can be matched by "),a("code",[t._v("regex")])])])])]),t._v(" "),a("p",[t._v("Example：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" string_contains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'warn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" string_matches"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'regex'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[^\\\\s]+37229'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('+-----------------------------+--------------+-------------------------------------------+------------------------------------------------------+\n|                         Time|root.sg1.d4.s1|string_contains(root.sg1.d4.s1, "s"="warn")|string_matches(root.sg1.d4.s1, "regex"="[^\\\\s]+37229")|\n+-----------------------------+--------------+-------------------------------------------+------------------------------------------------------+\n|1970-01-01T08:00:00.001+08:00|    warn:-8721|                                       true|                                                 false|\n|1970-01-01T08:00:00.002+08:00|  error:-37229|                                      false|                                                  true|\n|1970-01-01T08:00:00.003+08:00|     warn:1731|                                       true|                                                 false|\n+-----------------------------+--------------+-------------------------------------------+------------------------------------------------------+\nTotal line number = 3\nIt costs 0.007s\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h3",{attrs:{id:"selector-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#selector-functions"}},[t._v("#")]),t._v(" Selector Functions")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following selector functions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("TOP_K")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE / TEXT")]),t._v(" "),a("td",[a("code",[t._v("k")]),t._v(": the maximum number of selected data points, must be greater than 0 and less than or equal to 1000")]),t._v(" "),a("td",[t._v("Same type as the input series")]),t._v(" "),a("td",[t._v("Returns "),a("code",[t._v("k")]),t._v(" data points with the largest values in a time series.")])]),t._v(" "),a("tr",[a("td",[t._v("BOTTOM_K")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE / TEXT")]),t._v(" "),a("td",[a("code",[t._v("k")]),t._v(": the maximum number of selected data points, must be greater than 0 and less than or equal to 1000")]),t._v(" "),a("td",[t._v("Same type as the input series")]),t._v(" "),a("td",[t._v("Returns "),a("code",[t._v("k")]),t._v(" data points with the smallest values in a time series.")])])])]),t._v(" "),a("p",[t._v("Example：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" top_k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'k'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom_k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'k'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("time")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("T20:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.530")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("08")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("00")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('+-----------------------------+--------------------+------------------------------+---------------------------------+\n|                         Time|      root.sg1.d2.s1|top_k(root.sg1.d2.s1, "k"="2")|bottom_k(root.sg1.d2.s1, "k"="2")|\n+-----------------------------+--------------------+------------------------------+---------------------------------+\n|2020-12-10T20:36:15.531+08:00| 1531604122307244742|           1531604122307244742|                             null|\n|2020-12-10T20:36:15.532+08:00|-7426070874923281101|                          null|                             null|\n|2020-12-10T20:36:15.533+08:00|-7162825364312197604|          -7162825364312197604|                             null|\n|2020-12-10T20:36:15.534+08:00|-8581625725655917595|                          null|             -8581625725655917595|\n|2020-12-10T20:36:15.535+08:00|-7667364751255535391|                          null|             -7667364751255535391|\n+-----------------------------+--------------------+------------------------------+---------------------------------+\nTotal line number = 5\nIt costs 0.006s\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h3",{attrs:{id:"variation-trend-calculation-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variation-trend-calculation-functions"}},[t._v("#")]),t._v(" Variation Trend Calculation Functions")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following variation trend calculation functions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("TIME_DIFFERENCE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE / BOOLEAN / TEXT")]),t._v(" "),a("td",[t._v("INT64")]),t._v(" "),a("td",[t._v("Calculates the difference between the time stamp of a data point and the time stamp of the previous data point. There is no corresponding output for the first data point.")])]),t._v(" "),a("tr",[a("td",[t._v("DIFFERENCE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Same type as the input series")]),t._v(" "),a("td",[t._v("Calculates the difference between the value of a data point and the value of the previous data point. There is no corresponding output for the first data point.")])]),t._v(" "),a("tr",[a("td",[t._v("NON_NEGATIVE_DIFFERENCE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Same type as the input series")]),t._v(" "),a("td",[t._v("Calculates the absolute value of the difference between the value of a data point and the value of the previous data point. There is no corresponding output for the first data point.")])]),t._v(" "),a("tr",[a("td",[t._v("DERIVATIVE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Calculates the rate of change of a data point compared to the previous data point, the result is equals to DIFFERENCE / TIME_DIFFERENCE. There is no corresponding output for the first data point.")])]),t._v(" "),a("tr",[a("td",[t._v("NON_NEGATIVE_DERIVATIVE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Calculates the absolute value of the rate of change of a data point compared to the previous data point, the result is equals to NON_NEGATIVE_DIFFERENCE / TIME_DIFFERENCE. There is no corresponding output for the first data point.")])])])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time_difference"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" difference"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" non_negative_difference"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" derivative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" non_negative_derivative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("limit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("offset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-------------------+-------------------------------+--------------------------+---------------------------------------+--------------------------+---------------------------------------+\n|                         Time|     root.sg1.d1.s1|time_difference(root.sg1.d1.s1)|difference(root.sg1.d1.s1)|non_negative_difference(root.sg1.d1.s1)|derivative(root.sg1.d1.s1)|non_negative_derivative(root.sg1.d1.s1)|\n+-----------------------------+-------------------+-------------------------------+--------------------------+---------------------------------------+--------------------------+---------------------------------------+\n|2020-12-10T17:11:49.037+08:00|7360723084922759782|                              1|      -8431715764844238876|                    8431715764844238876|    -8.4317157648442388E18|                  8.4317157648442388E18|\n|2020-12-10T17:11:49.038+08:00|4377791063319964531|                              1|      -2982932021602795251|                    2982932021602795251|     -2.982932021602795E18|                   2.982932021602795E18|\n|2020-12-10T17:11:49.039+08:00|7972485567734642915|                              1|       3594694504414678384|                    3594694504414678384|     3.5946945044146785E18|                  3.5946945044146785E18|\n|2020-12-10T17:11:49.040+08:00|2508858212791964081|                              1|      -5463627354942678834|                    5463627354942678834|     -5.463627354942679E18|                   5.463627354942679E18|\n|2020-12-10T17:11:49.041+08:00|2817297431185141819|                              1|        308439218393177738|                     308439218393177738|     3.0843921839317773E17|                  3.0843921839317773E17|\n+-----------------------------+-------------------+-------------------------------+--------------------------+---------------------------------------+--------------------------+---------------------------------------+\nTotal line number = 5\nIt costs 0.014s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h3",{attrs:{id:"constant-timeseries-generating-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constant-timeseries-generating-functions"}},[t._v("#")]),t._v(" Constant Timeseries Generating Functions")]),t._v(" "),a("p",[t._v("The constant timeseries generating function is used to generate a timeseries in which the values of all data points are the same.")]),t._v(" "),a("p",[t._v("The constant timeseries generating function accepts one or more timeseries inputs, and the timestamp set of the output data points is the union of the timestamp sets of the input timeseries.")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following constant timeseries generating functions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("CONST")]),t._v(" "),a("td",[a("code",[t._v("value")]),t._v(": the value of the output data point "),a("br"),a("code",[t._v("type")]),t._v(": the type of the output data point, it can only be INT32 / INT64 / FLOAT / DOUBLE / BOOLEAN / TEXT")]),t._v(" "),a("td",[t._v("Determined by the required attribute  "),a("code",[t._v("type")])]),t._v(" "),a("td",[t._v("Output the user-specified constant timeseries according to the  attributes "),a("code",[t._v("value")]),t._v(" and "),a("code",[t._v("type")]),t._v(".")])]),t._v(" "),a("tr",[a("td",[t._v("PI")]),t._v(" "),a("td",[t._v("None")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Data point value: a "),a("code",[t._v("double")]),t._v(" value of  "),a("code",[t._v("π")]),t._v(", the ratio of the circumference of a circle to its diameter, which is equals to "),a("code",[t._v("Math.PI")]),t._v(" in the "),a("em",[t._v("Java Standard Library")]),t._v(".")])]),t._v(" "),a("tr",[a("td",[t._v("E")]),t._v(" "),a("td",[t._v("None")]),t._v(" "),a("td",[t._v("DOUBLE")]),t._v(" "),a("td",[t._v("Data point value: a "),a("code",[t._v("double")]),t._v(" value of  "),a("code",[t._v("e")]),t._v(", the base of the natural logarithms, which is equals to "),a("code",[t._v("Math.E")]),t._v(" in the "),a("em",[t._v("Java Standard Library")]),t._v(".")])])])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" const"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1024'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INT64'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("select s1, s2, const(s1, 'value'='1024', 'type'='INT64'), pi(s2), e(s1, s2) from root.sg1.d1; \n+-----------------------------+--------------+--------------+-----------------------------------------------------+------------------+---------------------------------+\n|                         Time|root.sg1.d1.s1|root.sg1.d1.s2|const(root.sg1.d1.s1, \"value\"=\"1024\", \"type\"=\"INT64\")|pi(root.sg1.d1.s2)|e(root.sg1.d1.s1, root.sg1.d1.s2)|\n+-----------------------------+--------------+--------------+-----------------------------------------------------+------------------+---------------------------------+\n|1970-01-01T08:00:00.000+08:00|           0.0|           0.0|                                                 1024| 3.141592653589793|                2.718281828459045|\n|1970-01-01T08:00:00.001+08:00|           1.0|          null|                                                 1024|              null|                2.718281828459045|\n|1970-01-01T08:00:00.002+08:00|           2.0|          null|                                                 1024|              null|                2.718281828459045|\n|1970-01-01T08:00:00.003+08:00|          null|           3.0|                                                 null| 3.141592653589793|                2.718281828459045|\n|1970-01-01T08:00:00.004+08:00|          null|           4.0|                                                 null| 3.141592653589793|                2.718281828459045|\n+-----------------------------+--------------+--------------+-----------------------------------------------------+------------------+---------------------------------+\nTotal line number = 5\nIt costs 0.005s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h3",{attrs:{id:"data-type-conversion-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-type-conversion-function"}},[t._v("#")]),t._v(" Data Type Conversion Function")]),t._v(" "),a("p",[t._v("The IoTDB currently supports 6 data types, including INT32, INT64 ,FLOAT, DOUBLE, BOOLEAN, TEXT. When we query or evaluate data, we may need to convert data types, such as TEXT to INT32, or improve the accuracy of the data, such as FLOAT to DOUBLE. Therefore, IoTDB supports the use of cast functions to convert data types.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("CAST")]),t._v(" "),a("td",[a("code",[t._v("type")]),t._v(": the type of the output data point, it can only be INT32 / INT64 / FLOAT / DOUBLE / BOOLEAN / TEXT")]),t._v(" "),a("td",[t._v("Determined by the required attribute  "),a("code",[t._v("type")])]),t._v(" "),a("td",[t._v("Converts data to the type specified by the "),a("code",[t._v("type")]),t._v(" argument.")])])])]),t._v(" "),a("h4",{attrs:{id:"notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[t._v("#")]),t._v(" Notes")]),t._v(" "),a("ol",[a("li",[t._v("The value of type BOOLEAN is "),a("code",[t._v("true")]),t._v(', when data is converted to BOOLEAN if INT32 and INT64 are not 0, FLOAT and DOUBLE are not 0.0, TEXT is not empty string or "false", otherwise '),a("code",[t._v("false")]),t._v(".")]),t._v(" "),a("li",[t._v('The value of type INT32, INT64, FLOAT, DOUBLE are 1 or 1.0 and TEXT is "true", when BOOLEAN data is true, otherwise 0, 0.0 or "false".')]),t._v(" "),a("li",[t._v("When TEXT is converted to INT32, INT64, or FLOAT, the TEXT is first converted to DOUBLE and then to the corresponding type, which may cause loss of precision. It will skip directly if the data can not be converted.")])]),t._v(" "),a("h4",{attrs:{id:"syntax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syntax"}},[t._v("#")]),t._v(" Syntax")]),t._v(" "),a("p",[t._v("Example data:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select text from root.test;\n+-----------------------------+--------------+\n|                         Time|root.test.text|\n+-----------------------------+--------------+\n|1970-01-01T08:00:00.001+08:00|           1.1|\n|1970-01-01T08:00:00.002+08:00|             1|\n|1970-01-01T08:00:00.003+08:00|   hello world|\n|1970-01-01T08:00:00.004+08:00|         false|\n+-----------------------------+--------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("SQL:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BOOLEAN'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INT32'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INT64'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FLOAT'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DOUBLE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('+-----------------------------+--------------------------------------+------------------------------------+------------------------------------+------------------------------------+-------------------------------------+\n|                         Time|cast(root.test.text, "type"="BOOLEAN")|cast(root.test.text, "type"="INT32")|cast(root.test.text, "type"="INT64")|cast(root.test.text, "type"="FLOAT")|cast(root.test.text, "type"="DOUBLE")|\n+-----------------------------+--------------------------------------+------------------------------------+------------------------------------+------------------------------------+-------------------------------------+\n|1970-01-01T08:00:00.001+08:00|                                  true|                                   1|                                   1|                                 1.1|                                  1.1|\n|1970-01-01T08:00:00.002+08:00|                                  true|                                   1|                                   1|                                 1.0|                                  1.0|\n|1970-01-01T08:00:00.003+08:00|                                  true|                                null|                                null|                                null|                                 null|\n|1970-01-01T08:00:00.004+08:00|                                 false|                                null|                                null|                                null|                                 null|\n+-----------------------------+--------------------------------------+------------------------------------+------------------------------------+------------------------------------+-------------------------------------+\nTotal line number = 4\nIt costs 0.078s\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h3",{attrs:{id:"condition-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#condition-functions"}},[t._v("#")]),t._v(" Condition Functions")]),t._v(" "),a("p",[t._v("Condition functions are used to check whether timeseries data points satisfy some specific condition.")]),t._v(" "),a("p",[t._v("They return BOOLEANs.")]),t._v(" "),a("p",[t._v("Currently, IoTDB supports the following condition functions:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ON_OFF")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[a("code",[t._v("threshold")]),t._v(": a double type variate")]),t._v(" "),a("td",[t._v("BOOLEAN")]),t._v(" "),a("td",[t._v("Return "),a("code",[t._v("ts_value >= threshold")]),t._v(".")])]),t._v(" "),a("tr",[a("td",[t._v("IN_RANGR")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[a("code",[t._v("lower")]),t._v(": DOUBLE type"),a("br"),a("code",[t._v("upper")]),t._v(": DOUBLE type")]),t._v(" "),a("td",[t._v("BOOLEAN")]),t._v(" "),a("td",[t._v("Return "),a("code",[t._v("ts_value >= lower && value <= upper")]),t._v(".")])])])]),t._v(" "),a("p",[t._v("Example Data:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select ts from root.test;\n+-----------------------------+------------+\n|                         Time|root.test.ts|\n+-----------------------------+------------+\n|1970-01-01T08:00:00.001+08:00|           1|\n|1970-01-01T08:00:00.002+08:00|           2|\n|1970-01-01T08:00:00.003+08:00|           3|\n|1970-01-01T08:00:00.004+08:00|           4|\n+-----------------------------+------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h5",{attrs:{id:"test-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#test-1"}},[t._v("#")]),t._v(" Test 1")]),t._v(" "),a("p",[t._v("SQL:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on_off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'threshold'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Output:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select ts, on_off(ts, 'threshold'='2') from root.test;\n+-----------------------------+------------+-------------------------------------+\n|                         Time|root.test.ts|on_off(root.test.ts, \"threshold\"=\"2\")|\n+-----------------------------+------------+-------------------------------------+\n|1970-01-01T08:00:00.001+08:00|           1|                                false|\n|1970-01-01T08:00:00.002+08:00|           2|                                 true|\n|1970-01-01T08:00:00.003+08:00|           3|                                 true|\n|1970-01-01T08:00:00.004+08:00|           4|                                 true|\n+-----------------------------+------------+-------------------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h5",{attrs:{id:"test-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#test-2"}},[t._v("#")]),t._v(" Test 2")]),t._v(" "),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" in_range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lower'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'upper'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Output:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select ts, in_range(ts,'lower'='2', 'upper'='3.1') from root.test;\n+-----------------------------+------------+--------------------------------------------------+\n|                         Time|root.test.ts|in_range(root.test.ts, \"lower\"=\"2\", \"upper\"=\"3.1\")|\n+-----------------------------+------------+--------------------------------------------------+\n|1970-01-01T08:00:00.001+08:00|           1|                                             false|\n|1970-01-01T08:00:00.002+08:00|           2|                                              true|\n|1970-01-01T08:00:00.003+08:00|           3|                                              true|\n|1970-01-01T08:00:00.004+08:00|           4|                                             false|\n+-----------------------------+------------+--------------------------------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h3",{attrs:{id:"continuous-interval-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#continuous-interval-functions"}},[t._v("#")]),t._v(" Continuous Interval Functions")]),t._v(" "),a("p",[t._v("The continuous interval functions are used to query all continuous intervals that meet specified conditions.\nThey can be divided into two categories according to return value:")]),t._v(" "),a("ol",[a("li",[t._v("Returns the start timestamp and time span of the continuous interval that meets the conditions (a time span of 0 means that only the start time point meets the conditions)")]),t._v(" "),a("li",[t._v("Returns the start timestamp of the continuous interval that meets the condition and the number of points in the interval (a number of 1 means that only the start time point meets the conditions)")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Input TSDatatype")]),t._v(" "),a("th",[t._v("Parameters")]),t._v(" "),a("th",[t._v("Output TSDatatype")]),t._v(" "),a("th",[t._v("Function Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ZERO_DURATION")]),t._v(" "),a("td",[t._v("INT32/ INT64/ FLOAT/ DOUBLE/ BOOLEAN")]),t._v(" "),a("td",[a("code",[t._v("min")]),t._v(":Optional with default value "),a("code",[t._v("0L")]),a("br"),a("code",[t._v("max")]),t._v(":Optional with default value "),a("code",[t._v("Long.MAX_VALUE")])]),t._v(" "),a("td",[t._v("Long")]),t._v(" "),a("td",[t._v("Return intervals' start times and duration times in which the value is always 0(false), and the duration time "),a("code",[t._v("t")]),t._v(" satisfy "),a("code",[t._v("t >= min && t <= max")]),t._v(". The unit of "),a("code",[t._v("t")]),t._v(" is ms")])]),t._v(" "),a("tr",[a("td",[t._v("NON_ZERO_DURATION")]),t._v(" "),a("td",[t._v("INT32/ INT64/ FLOAT/ DOUBLE/ BOOLEAN")]),t._v(" "),a("td",[a("code",[t._v("min")]),t._v(":Optional with default value "),a("code",[t._v("0L")]),a("br"),a("code",[t._v("max")]),t._v(":Optional with default value "),a("code",[t._v("Long.MAX_VALUE")])]),t._v(" "),a("td",[t._v("Long")]),t._v(" "),a("td",[t._v("Return intervals' start times and duration times in which the value is always not 0, and the duration time "),a("code",[t._v("t")]),t._v(" satisfy "),a("code",[t._v("t >= min && t <= max")]),t._v(". The unit of "),a("code",[t._v("t")]),t._v(" is ms")])]),t._v(" "),a("tr",[a("td",[t._v("ZERO_COUNT")]),t._v(" "),a("td",[t._v("INT32/ INT64/ FLOAT/ DOUBLE/ BOOLEAN")]),t._v(" "),a("td",[a("code",[t._v("min")]),t._v(":Optional with default value "),a("code",[t._v("1L")]),a("br"),a("code",[t._v("max")]),t._v(":Optional with default value "),a("code",[t._v("Long.MAX_VALUE")])]),t._v(" "),a("td",[t._v("Long")]),t._v(" "),a("td",[t._v("Return intervals' start times and the number of data points in the interval in which the value is always 0(false). Data points number "),a("code",[t._v("n")]),t._v(" satisfy "),a("code",[t._v("n >= min && n <= max")])])]),t._v(" "),a("tr",[a("td",[t._v("NON_ZERO_COUNT")]),t._v(" "),a("td",[t._v("INT32/ INT64/ FLOAT/ DOUBLE/ BOOLEAN")]),t._v(" "),a("td",[a("code",[t._v("min")]),t._v(":Optional with default value "),a("code",[t._v("1L")]),a("br"),a("code",[t._v("max")]),t._v(":Optional with default value "),a("code",[t._v("Long.MAX_VALUE")])]),t._v(" "),a("td",[t._v("Long")]),t._v(" "),a("td",[t._v("Return intervals' start times and the number of data points in the interval in which the value is always not 0(false). Data points number "),a("code",[t._v("n")]),t._v(" satisfy "),a("code",[t._v("n >= min && n <= max")])])])])]),t._v(" "),a("h5",{attrs:{id:"demonstrate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select s1,s2,s3,s4,s5 from root.sg.d2;\n+-----------------------------+-------------+-------------+-------------+-------------+-------------+\n|                         Time|root.sg.d2.s1|root.sg.d2.s2|root.sg.d2.s3|root.sg.d2.s4|root.sg.d2.s5|\n+-----------------------------+-------------+-------------+-------------+-------------+-------------+\n|1970-01-01T08:00:00.000+08:00|            0|            0|          0.0|          0.0|        false|\n|1970-01-01T08:00:00.001+08:00|            1|            1|          1.0|          1.0|         true|\n|1970-01-01T08:00:00.002+08:00|            1|            1|          1.0|          1.0|         true|\n|1970-01-01T08:00:00.003+08:00|            0|            0|          0.0|          0.0|        false|\n|1970-01-01T08:00:00.004+08:00|            1|            1|          1.0|          1.0|         true|\n|1970-01-01T08:00:00.005+08:00|            0|            0|          0.0|          0.0|        false|\n|1970-01-01T08:00:00.006+08:00|            0|            0|          0.0|          0.0|        false|\n|1970-01-01T08:00:00.007+08:00|            1|            1|          1.0|          1.0|         true|\n+-----------------------------+-------------+-------------+-------------+-------------+-------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" zero_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" non_zero_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" zero_duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" non_zero_duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-------------+-------------------------+-----------------------------+----------------------------+--------------------------------+\n|                         Time|root.sg.d2.s1|zero_count(root.sg.d2.s1)|non_zero_count(root.sg.d2.s2)|zero_duration(root.sg.d2.s3)|non_zero_duration(root.sg.d2.s4)|\n+-----------------------------+-------------+-------------------------+-----------------------------+----------------------------+--------------------------------+\n|1970-01-01T08:00:00.000+08:00|            0|                        1|                         null|                           0|                            null|\n|1970-01-01T08:00:00.001+08:00|            1|                     null|                            2|                        null|                               1|\n|1970-01-01T08:00:00.002+08:00|            1|                     null|                         null|                        null|                            null|\n|1970-01-01T08:00:00.003+08:00|            0|                        1|                         null|                           0|                            null|\n|1970-01-01T08:00:00.004+08:00|            1|                     null|                            1|                        null|                               0|\n|1970-01-01T08:00:00.005+08:00|            0|                        2|                         null|                           1|                            null|\n|1970-01-01T08:00:00.006+08:00|            0|                     null|                         null|                        null|                            null|\n|1970-01-01T08:00:00.007+08:00|            1|                     null|                            1|                        null|                               0|\n+-----------------------------+-------------+-------------------------+-----------------------------+----------------------------+--------------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h3",{attrs:{id:"equal-size-bucket-sample-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equal-size-bucket-sample-function"}},[t._v("#")]),t._v(" Equal Size Bucket Sample Function")]),t._v(" "),a("p",[t._v("This function samples the input sequence in equal size buckets, that is, according to the downsampling ratio and downsampling method given by the user, the input sequence is equally divided into several buckets according to a fixed number of points. Sampling by the given sampling method within each bucket.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("proportion")]),t._v(": sample ratio, the value range is "),a("code",[t._v("(0, 1]")]),t._v(".")])]),t._v(" "),a("h4",{attrs:{id:"equal-size-bucket-random-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equal-size-bucket-random-sample"}},[t._v("#")]),t._v(" Equal Size Bucket Random Sample")]),t._v(" "),a("p",[t._v("Random sampling is performed on the equally divided buckets.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EQUAL_SIZE_BUCKET_RANDOM_SAMPLE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[a("code",[t._v("proportion")]),t._v(" The value range is "),a("code",[t._v("(0, 1]")]),t._v(", the default is "),a("code",[t._v("0.1")])]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Returns a random sample of equal buckets that matches the sampling ratio")])])])]),t._v(" "),a("h5",{attrs:{id:"demonstrate-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate-2"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data: "),a("code",[t._v("root.ln.wf01.wt01.temperature")]),t._v(" has a total of "),a("code",[t._v("100")]),t._v(" ordered data from "),a("code",[t._v("0.0-99.0")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select temperature from root.ln.wf01.wt01;\n+-----------------------------+-----------------------------+\n|                         Time|root.ln.wf01.wt01.temperature|\n+-----------------------------+-----------------------------+\n|1970-01-01T08:00:00.000+08:00|                          0.0|\n|1970-01-01T08:00:00.001+08:00|                          1.0|\n|1970-01-01T08:00:00.002+08:00|                          2.0|\n|1970-01-01T08:00:00.003+08:00|                          3.0|\n|1970-01-01T08:00:00.004+08:00|                          4.0|\n|1970-01-01T08:00:00.005+08:00|                          5.0|\n|1970-01-01T08:00:00.006+08:00|                          6.0|\n|1970-01-01T08:00:00.007+08:00|                          7.0|\n|1970-01-01T08:00:00.008+08:00|                          8.0|\n|1970-01-01T08:00:00.009+08:00|                          9.0|\n|1970-01-01T08:00:00.010+08:00|                         10.0|\n|1970-01-01T08:00:00.011+08:00|                         11.0|\n|1970-01-01T08:00:00.012+08:00|                         12.0|\n|.............................|.............................|            \n|1970-01-01T08:00:00.089+08:00|                         89.0|\n|1970-01-01T08:00:00.090+08:00|                         90.0|\n|1970-01-01T08:00:00.091+08:00|                         91.0|\n|1970-01-01T08:00:00.092+08:00|                         92.0|\n|1970-01-01T08:00:00.093+08:00|                         93.0|\n|1970-01-01T08:00:00.094+08:00|                         94.0|\n|1970-01-01T08:00:00.095+08:00|                         95.0|\n|1970-01-01T08:00:00.096+08:00|                         96.0|\n|1970-01-01T08:00:00.097+08:00|                         97.0|\n|1970-01-01T08:00:00.098+08:00|                         98.0|\n|1970-01-01T08:00:00.099+08:00|                         99.0|\n+-----------------------------+-----------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br")])]),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" equal_size_bucket_random_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" random_sample "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-------------+\n|                         Time|random_sample|\n+-----------------------------+-------------+\n|1970-01-01T08:00:00.007+08:00|          7.0|\n|1970-01-01T08:00:00.014+08:00|         14.0|\n|1970-01-01T08:00:00.020+08:00|         20.0|\n|1970-01-01T08:00:00.035+08:00|         35.0|\n|1970-01-01T08:00:00.047+08:00|         47.0|\n|1970-01-01T08:00:00.059+08:00|         59.0|\n|1970-01-01T08:00:00.063+08:00|         63.0|\n|1970-01-01T08:00:00.079+08:00|         79.0|\n|1970-01-01T08:00:00.086+08:00|         86.0|\n|1970-01-01T08:00:00.096+08:00|         96.0|\n+-----------------------------+-------------+\nTotal line number = 10\nIt costs 0.024s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h4",{attrs:{id:"equal-size-bucket-aggregation-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equal-size-bucket-aggregation-sample"}},[t._v("#")]),t._v(" Equal Size Bucket Aggregation Sample")]),t._v(" "),a("p",[t._v("The input sequence is sampled by the aggregation sampling method, and the user needs to provide an additional aggregation function parameter, namely")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("type")]),t._v(": Aggregate type, which can be "),a("code",[t._v("avg")]),t._v(" or "),a("code",[t._v("max")]),t._v(" or "),a("code",[t._v("min")]),t._v(" or "),a("code",[t._v("sum")]),t._v(" or "),a("code",[t._v("extreme")]),t._v(" or "),a("code",[t._v("variance")]),t._v(". By default, "),a("code",[t._v("avg")]),t._v(" is used. "),a("code",[t._v("extreme")]),t._v(" represents the value with the largest absolute value in the equal bucket. "),a("code",[t._v("variance")]),t._v(" represents the variance in the sampling equal buckets.")])]),t._v(" "),a("p",[t._v("The timestamp of the sampling output of each bucket is the timestamp of the first point of the bucket.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EQUAL_SIZE_BUCKET_AGG_SAMPLE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[a("code",[t._v("proportion")]),t._v(" The value range is "),a("code",[t._v("(0, 1]")]),t._v(", the default is "),a("code",[t._v("0.1")]),a("br"),a("code",[t._v("type")]),t._v(": The value types are "),a("code",[t._v("avg")]),t._v(", "),a("code",[t._v("max")]),t._v(", "),a("code",[t._v("min")]),t._v(", "),a("code",[t._v("sum")]),t._v(", "),a("code",[t._v("extreme")]),t._v(", "),a("code",[t._v("variance")]),t._v(", the default is "),a("code",[t._v("avg")])]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Returns equal bucket aggregation samples that match the sampling ratio")])])])]),t._v(" "),a("h5",{attrs:{id:"demonstrate-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate-3"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data: "),a("code",[t._v("root.ln.wf01.wt01.temperature")]),t._v(" has a total of "),a("code",[t._v("100")]),t._v(" ordered data from "),a("code",[t._v("0.0-99.0")]),t._v(", and the test data is randomly sampled in equal buckets.")]),t._v(" "),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_avg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'max'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'min'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sum'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_sum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'extreme'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_extreme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_agg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'variance'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" agg_variance "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-----------------+-------+-------+-------+-----------+------------+\n|                         Time|          agg_avg|agg_max|agg_min|agg_sum|agg_extreme|agg_variance|\n+-----------------------------+-----------------+-------+-------+-------+-----------+------------+\n|1970-01-01T08:00:00.000+08:00|              4.5|    9.0|    0.0|   45.0|        9.0|        8.25|\n|1970-01-01T08:00:00.010+08:00|             14.5|   19.0|   10.0|  145.0|       19.0|        8.25|\n|1970-01-01T08:00:00.020+08:00|             24.5|   29.0|   20.0|  245.0|       29.0|        8.25|\n|1970-01-01T08:00:00.030+08:00|             34.5|   39.0|   30.0|  345.0|       39.0|        8.25|\n|1970-01-01T08:00:00.040+08:00|             44.5|   49.0|   40.0|  445.0|       49.0|        8.25|\n|1970-01-01T08:00:00.050+08:00|             54.5|   59.0|   50.0|  545.0|       59.0|        8.25|\n|1970-01-01T08:00:00.060+08:00|             64.5|   69.0|   60.0|  645.0|       69.0|        8.25|\n|1970-01-01T08:00:00.070+08:00|74.50000000000001|   79.0|   70.0|  745.0|       79.0|        8.25|\n|1970-01-01T08:00:00.080+08:00|             84.5|   89.0|   80.0|  845.0|       89.0|        8.25|\n|1970-01-01T08:00:00.090+08:00|             94.5|   99.0|   90.0|  945.0|       99.0|        8.25|\n+-----------------------------+-----------------+-------+-------+-------+-----------+------------+\nTotal line number = 10\nIt costs 0.044s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h4",{attrs:{id:"equal-size-bucket-m4-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equal-size-bucket-m4-sample"}},[t._v("#")]),t._v(" Equal Size Bucket M4 Sample")]),t._v(" "),a("p",[t._v("The input sequence is sampled using the M4 sampling method. That is to sample the head, tail, min and max values for each bucket.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EQUAL_SIZE_BUCKET_M4_SAMPLE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[a("code",[t._v("proportion")]),t._v(" The value range is "),a("code",[t._v("(0, 1]")]),t._v(", the default is "),a("code",[t._v("0.1")])]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Returns equal bucket M4 samples that match the sampling ratio")])])])]),t._v(" "),a("h5",{attrs:{id:"demonstrate-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate-4"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data: "),a("code",[t._v("root.ln.wf01.wt01.temperature")]),t._v(" has a total of "),a("code",[t._v("100")]),t._v(" ordered data from "),a("code",[t._v("0.0-99.0")]),t._v(", and the test data is randomly sampled in equal buckets.")]),t._v(" "),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" equal_size_bucket_m4_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" M4_sample "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+---------+\n|                         Time|M4_sample|\n+-----------------------------+---------+\n|1970-01-01T08:00:00.000+08:00|      0.0|\n|1970-01-01T08:00:00.001+08:00|      1.0|\n|1970-01-01T08:00:00.038+08:00|     38.0|\n|1970-01-01T08:00:00.039+08:00|     39.0|\n|1970-01-01T08:00:00.040+08:00|     40.0|\n|1970-01-01T08:00:00.041+08:00|     41.0|\n|1970-01-01T08:00:00.078+08:00|     78.0|\n|1970-01-01T08:00:00.079+08:00|     79.0|\n|1970-01-01T08:00:00.080+08:00|     80.0|\n|1970-01-01T08:00:00.081+08:00|     81.0|\n|1970-01-01T08:00:00.098+08:00|     98.0|\n|1970-01-01T08:00:00.099+08:00|     99.0|\n+-----------------------------+---------+\nTotal line number = 12\nIt costs 0.065s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("h4",{attrs:{id:"equal-size-bucket-outlier-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#equal-size-bucket-outlier-sample"}},[t._v("#")]),t._v(" Equal Size Bucket Outlier Sample")]),t._v(" "),a("p",[t._v("This function samples the input sequence with equal number of bucket outliers, that is, according to the downsampling ratio given by the user and the number of samples in the bucket, the input sequence is divided into several buckets according to a fixed number of points. Sampling by the given outlier sampling method within each bucket.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EQUAL_SIZE_BUCKET_OUTLIER_SAMPLE")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("The value range of "),a("code",[t._v("proportion")]),t._v(" is "),a("code",[t._v("(0, 1]")]),t._v(", the default is "),a("code",[t._v("0.1")]),a("br"),t._v(" The value of "),a("code",[t._v("type")]),t._v(" is "),a("code",[t._v("avg")]),t._v(" or "),a("code",[t._v("stendis")]),t._v(" or "),a("code",[t._v("cos")]),t._v(" or "),a("code",[t._v("prenextdis")]),t._v(", the default is "),a("code",[t._v("avg")]),t._v(" "),a("br"),t._v("The value of "),a("code",[t._v("number")]),t._v(" should be greater than 0, the default is "),a("code",[t._v("3")])]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE")]),t._v(" "),a("td",[t._v("Returns outlier samples in equal buckets that match the sampling ratio and the number of samples in the bucket")])])])]),t._v(" "),a("p",[t._v("Parameter Description")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("proportion")]),t._v(": sampling ratio")]),t._v(" "),a("li",[a("code",[t._v("number")]),t._v(": the number of samples in each bucket, default "),a("code",[t._v("3")])]),t._v(" "),a("li",[a("code",[t._v("type")]),t._v(": outlier sampling method, the value is\n"),a("ul",[a("li",[a("code",[t._v("avg")]),t._v(": Take the average of the data points in the bucket, and find the "),a("code",[t._v("top number")]),t._v(" farthest from the average according to the sampling ratio")]),t._v(" "),a("li",[a("code",[t._v("stendis")]),t._v(": Take the vertical distance between each data point in the bucket and the first and last data points of the bucket to form a straight line, and according to the sampling ratio, find the "),a("code",[t._v("top number")]),t._v(" with the largest distance")]),t._v(" "),a("li",[a("code",[t._v("cos")]),t._v(": Set a data point in the bucket as b, the data point on the left of b as a, and the data point on the right of b as c, then take the cosine value of the angle between the ab and bc vectors. The larger the angle, the more likely it is an outlier. Find the "),a("code",[t._v("top number")]),t._v(" with the smallest cos value")]),t._v(" "),a("li",[a("code",[t._v("prenextdis")]),t._v(": Let a data point in the bucket be b, the data point to the left of b is a, and the data point to the right of b is c, then take the sum of the lengths of ab and bc as the yardstick, the larger the sum, the more likely it is to be an outlier, and find the "),a("code",[t._v("top number")]),t._v(" with the largest sum value")])])])]),t._v(" "),a("h5",{attrs:{id:"demonstrate-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate-5"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data: "),a("code",[t._v("root.ln.wf01.wt01.temperature")]),t._v(" has a total of "),a("code",[t._v("100")]),t._v(" ordered data from "),a("code",[t._v("0.0-99.0")]),t._v(". Among them, in order to add outliers, we make the number modulo 5 equal to 0 increment by 100.")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select temperature from root.ln.wf01.wt01;\n+-----------------------------+-----------------------------+\n|                         Time|root.ln.wf01.wt01.temperature|\n+-----------------------------+-----------------------------+\n|1970-01-01T08:00:00.000+08:00|                          0.0|\n|1970-01-01T08:00:00.001+08:00|                          1.0|\n|1970-01-01T08:00:00.002+08:00|                          2.0|\n|1970-01-01T08:00:00.003+08:00|                          3.0|\n|1970-01-01T08:00:00.004+08:00|                          4.0|\n|1970-01-01T08:00:00.005+08:00|                        105.0|\n|1970-01-01T08:00:00.006+08:00|                          6.0|\n|1970-01-01T08:00:00.007+08:00|                          7.0|\n|1970-01-01T08:00:00.008+08:00|                          8.0|\n|1970-01-01T08:00:00.009+08:00|                          9.0|\n|1970-01-01T08:00:00.010+08:00|                         10.0|\n|1970-01-01T08:00:00.011+08:00|                         11.0|\n|1970-01-01T08:00:00.012+08:00|                         12.0|\n|1970-01-01T08:00:00.013+08:00|                         13.0|\n|1970-01-01T08:00:00.014+08:00|                         14.0|\n|1970-01-01T08:00:00.015+08:00|                        115.0|\n|1970-01-01T08:00:00.016+08:00|                         16.0|\n|.............................|.............................|\n|1970-01-01T08:00:00.092+08:00|                         92.0|\n|1970-01-01T08:00:00.093+08:00|                         93.0|\n|1970-01-01T08:00:00.094+08:00|                         94.0|\n|1970-01-01T08:00:00.095+08:00|                        195.0|\n|1970-01-01T08:00:00.096+08:00|                         96.0|\n|1970-01-01T08:00:00.097+08:00|                         97.0|\n|1970-01-01T08:00:00.098+08:00|                         98.0|\n|1970-01-01T08:00:00.099+08:00|                         99.0|\n+-----------------------------+-----------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" equal_size_bucket_outlier_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" outlier_avg_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_outlier_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stendis'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" outlier_stendis_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_outlier_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cos'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" outlier_cos_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" equal_size_bucket_outlier_sample"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proportion'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prenextdis'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'number'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" outlier_prenextdis_sample "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+------------------+----------------------+------------------+-------------------------+\n|                         Time|outlier_avg_sample|outlier_stendis_sample|outlier_cos_sample|outlier_prenextdis_sample|\n+-----------------------------+------------------+----------------------+------------------+-------------------------+\n|1970-01-01T08:00:00.005+08:00|             105.0|                 105.0|             105.0|                    105.0|\n|1970-01-01T08:00:00.015+08:00|             115.0|                 115.0|             115.0|                    115.0|\n|1970-01-01T08:00:00.025+08:00|             125.0|                 125.0|             125.0|                    125.0|\n|1970-01-01T08:00:00.035+08:00|             135.0|                 135.0|             135.0|                    135.0|\n|1970-01-01T08:00:00.045+08:00|             145.0|                 145.0|             145.0|                    145.0|\n|1970-01-01T08:00:00.055+08:00|             155.0|                 155.0|             155.0|                    155.0|\n|1970-01-01T08:00:00.065+08:00|             165.0|                 165.0|             165.0|                    165.0|\n|1970-01-01T08:00:00.075+08:00|             175.0|                 175.0|             175.0|                    175.0|\n|1970-01-01T08:00:00.085+08:00|             185.0|                 185.0|             185.0|                    185.0|\n|1970-01-01T08:00:00.095+08:00|             195.0|                 195.0|             195.0|                    195.0|\n+-----------------------------+------------------+----------------------+------------------+-------------------------+\nTotal line number = 10\nIt costs 0.041s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h3",{attrs:{id:"jexl-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jexl-function"}},[t._v("#")]),t._v(" JEXL Function")]),t._v(" "),a("p",[t._v("Java Expression Language (JEXL) is an expression language engine. We use JEXL to extend UDFs, which are implemented on the command line with simple lambda expressions. See the link for "),a("a",{attrs:{href:"https://commons.apache.org/proper/commons-jexl/apidocs/org/apache/commons/jexl3/package-summary.html#customization",target:"_blank",rel:"noopener noreferrer"}},[t._v("operators supported in jexl lambda expressions"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Function Name")]),t._v(" "),a("th",[t._v("Allowed Input Series Data Types")]),t._v(" "),a("th",[t._v("Required Attributes")]),t._v(" "),a("th",[t._v("Output Series Data Type")]),t._v(" "),a("th",[t._v("Series Data Type  Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("JEXL")]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE / TEXT / BOOLEAN")]),t._v(" "),a("td",[a("code",[t._v("expr")]),t._v(" is a lambda expression that supports standard one or multi arguments in the form "),a("code",[t._v("x -> {...}")]),t._v(" or "),a("code",[t._v("(x, y, z) -> {...}")]),t._v(", e.g. "),a("code",[t._v("x -> {x * 2}")]),t._v(", "),a("code",[t._v("(x, y, z) -> {x + y * z}")])]),t._v(" "),a("td",[t._v("INT32 / INT64 / FLOAT / DOUBLE / TEXT / BOOLEAN")]),t._v(" "),a("td",[t._v("Returns the input time series transformed by a lambda expression")])])])]),t._v(" "),a("h4",{attrs:{id:"demonstrate-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demonstrate-6"}},[t._v("#")]),t._v(" Demonstrate")]),t._v(" "),a("p",[t._v("Example data: "),a("code",[t._v("root.ln.wf01.wt01.temperature")]),t._v(", "),a("code",[t._v("root.ln.wf01.wt01.st")]),t._v(", "),a("code",[t._v("root.ln.wf01.wt01.str")]),t._v(" a total of "),a("code",[t._v("11")]),t._v(" data.")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IoTDB> select * from root.ln.wf01.wt01;\n+-----------------------------+---------------------+--------------------+-----------------------------+\n|                         Time|root.ln.wf01.wt01.str|root.ln.wf01.wt01.st|root.ln.wf01.wt01.temperature|\n+-----------------------------+---------------------+--------------------+-----------------------------+\n|1970-01-01T08:00:00.000+08:00|                  str|                10.0|                          0.0|\n|1970-01-01T08:00:00.001+08:00|                  str|                20.0|                          1.0|\n|1970-01-01T08:00:00.002+08:00|                  str|                30.0|                          2.0|\n|1970-01-01T08:00:00.003+08:00|                  str|                40.0|                          3.0|\n|1970-01-01T08:00:00.004+08:00|                  str|                50.0|                          4.0|\n|1970-01-01T08:00:00.005+08:00|                  str|                60.0|                          5.0|\n|1970-01-01T08:00:00.006+08:00|                  str|                70.0|                          6.0|\n|1970-01-01T08:00:00.007+08:00|                  str|                80.0|                          7.0|\n|1970-01-01T08:00:00.008+08:00|                  str|                90.0|                          8.0|\n|1970-01-01T08:00:00.009+08:00|                  str|               100.0|                          9.0|\n|1970-01-01T08:00:00.010+08:00|                  str|               110.0|                         10.0|\n+-----------------------------+---------------------+--------------------+-----------------------------+\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("Sql:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x -> {x + x}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x -> {x * 3}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x -> {x * x}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x -> {multiply(x, 100)}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" st"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(x, y) -> {x + y}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jexl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" st"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expr'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'(x, y, z) -> {x + y + z}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" jexl6 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token identifier"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-----+-----+-----+------+-----+--------+\n|                         Time|jexl1|jexl2|jexl3| jexl4|jexl5|   jexl6|\n+-----------------------------+-----+-----+-----+------+-----+--------+\n|1970-01-01T08:00:00.000+08:00|  0.0|  0.0|  0.0|   0.0| 10.0| 10.0str|\n|1970-01-01T08:00:00.001+08:00|  2.0|  3.0|  1.0| 100.0| 21.0| 21.0str|\n|1970-01-01T08:00:00.002+08:00|  4.0|  6.0|  4.0| 200.0| 32.0| 32.0str|\n|1970-01-01T08:00:00.003+08:00|  6.0|  9.0|  9.0| 300.0| 43.0| 43.0str|\n|1970-01-01T08:00:00.004+08:00|  8.0| 12.0| 16.0| 400.0| 54.0| 54.0str|\n|1970-01-01T08:00:00.005+08:00| 10.0| 15.0| 25.0| 500.0| 65.0| 65.0str|\n|1970-01-01T08:00:00.006+08:00| 12.0| 18.0| 36.0| 600.0| 76.0| 76.0str|\n|1970-01-01T08:00:00.007+08:00| 14.0| 21.0| 49.0| 700.0| 87.0| 87.0str|\n|1970-01-01T08:00:00.008+08:00| 16.0| 24.0| 64.0| 800.0| 98.0| 98.0str|\n|1970-01-01T08:00:00.009+08:00| 18.0| 27.0| 81.0| 900.0|109.0|109.0str|\n|1970-01-01T08:00:00.010+08:00| 20.0| 30.0|100.0|1000.0|120.0|120.0str|\n+-----------------------------+-----+-----+-----+------+-----+--------+\nTotal line number = 11\nIt costs 0.118s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"user-defined-timeseries-generating-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-defined-timeseries-generating-functions"}},[t._v("#")]),t._v(" User Defined Timeseries Generating Functions")]),t._v(" "),a("p",[t._v("Please refer to "),a("RouterLink",{attrs:{to:"/UserGuide/Master/Process-Data/UDF-User-Defined-Function.html"}},[t._v("UDF (User Defined Function)")]),t._v(".")],1),t._v(" "),a("p",[t._v("Known Implementation UDF Libraries:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://thulab.github.io/iotdb-quality",target:"_blank",rel:"noopener noreferrer"}},[t._v("IoTDB-Quality"),a("OutboundLink")],1),t._v(", a UDF library about data quality, including data profiling, data quality evalution and data repairing, etc.")])]),t._v(" "),a("h2",{attrs:{id:"nested-expressions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nested-expressions"}},[t._v("#")]),t._v(" Nested Expressions")]),t._v(" "),a("p",[t._v("IoTDB supports the calculation of arbitrary nested expressions. Since time series query and aggregation query can not be used in a query statement at the same time, we divide nested expressions into two types, which are nested expressions with time series query and nested expressions with aggregation query.")]),t._v(" "),a("p",[t._v("The following is the syntax definition of the "),a("code",[t._v("select")]),t._v(" clause:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[t._v("selectClause\n    : "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" resultColumn "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" resultColumn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nresultColumn\n    : expression "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("?\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexpression\n    : "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'('")]),t._v(" expression "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("')'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),t._v(" expression\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" expression "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" expression\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" expression "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'+'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" expression\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" functionName "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'('")]),t._v(" expression "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" expression"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" functionAttribute"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("')'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" timeSeriesSuffixPath\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" number\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"nested-expressions-with-time-series-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nested-expressions-with-time-series-query"}},[t._v("#")]),t._v(" Nested Expressions with Time Series Query")]),t._v(" "),a("p",[t._v("IoTDB supports the calculation of arbitrary nested expressions consisting of "),a("strong",[t._v("numbers, time series, time series generating functions (including user-defined functions) and arithmetic expressions")]),t._v(" in the "),a("code",[t._v("select")]),t._v(" clause.")]),t._v(" "),a("h5",{attrs:{id:"example-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-3"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("p",[t._v("Input1：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" cos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("Result1：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+----------+----------+----------------------------------------+---------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|                         Time|root.sg1.a|root.sg1.b|((((root.sg1.a + 1) * 2) - 1) % 2) + 1.5|sin(root.sg1.a + sin(root.sg1.a + sin(root.sg1.b)))|(-root.sg1.a + root.sg1.b * ((sin(root.sg1.a + root.sg1.b) * sin(root.sg1.a + root.sg1.b)) + (cos(root.sg1.a + root.sg1.b) * cos(root.sg1.a + root.sg1.b)))) + 1|\n+-----------------------------+----------+----------+----------------------------------------+---------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+\n|1970-01-01T08:00:00.010+08:00|         1|         1|                                     2.5|                                 0.9238430524420609|                                                                                                                      -1.0|\n|1970-01-01T08:00:00.020+08:00|         2|         2|                                     2.5|                                 0.7903505371876317|                                                                                                                      -3.0|\n|1970-01-01T08:00:00.030+08:00|         3|         3|                                     2.5|                                0.14065207680386618|                                                                                                                      -5.0|\n|1970-01-01T08:00:00.040+08:00|         4|      null|                                     2.5|                                               null|                                                                                                                      null|\n|1970-01-01T08:00:00.050+08:00|      null|         5|                                    null|                                               null|                                                                                                                      null|\n|1970-01-01T08:00:00.060+08:00|         6|         6|                                     2.5|                                -0.7288037411970916|                                                                                                                     -11.0|\n+-----------------------------+----------+----------+----------------------------------------+---------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------+\nTotal line number = 6\nIt costs 0.048s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("Input2：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result2：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+----------------------------------------------+\n|                         Time|((root.sg.a + root.sg.b) * 2) + sin(root.sg.a)|\n+-----------------------------+----------------------------------------------+\n|1970-01-01T08:00:00.010+08:00|                             59.45597888911063|\n|1970-01-01T08:00:00.020+08:00|                            100.91294525072763|\n|1970-01-01T08:00:00.030+08:00|                            139.01196837590714|\n|1970-01-01T08:00:00.040+08:00|                            180.74511316047935|\n|1970-01-01T08:00:00.050+08:00|                            219.73762514629607|\n|1970-01-01T08:00:00.060+08:00|                             259.6951893788978|\n|1970-01-01T08:00:00.070+08:00|                             300.7738906815579|\n|1970-01-01T08:00:00.090+08:00|                             39.45597888911063|\n|1970-01-01T08:00:00.100+08:00|                             39.45597888911063|\n+-----------------------------+----------------------------------------------+\nTotal line number = 9\nIt costs 0.011s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("Input3：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result3：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+-----------------------------+-----------------------------+\n|                         Time|(root.sg1.a + root.sg1.a) / 2|(root.sg1.a + root.sg1.b) / 2|\n+-----------------------------+-----------------------------+-----------------------------+\n|1970-01-01T08:00:00.010+08:00|                          1.0|                          1.0|\n|1970-01-01T08:00:00.020+08:00|                          2.0|                          2.0|\n|1970-01-01T08:00:00.030+08:00|                          3.0|                          3.0|\n|1970-01-01T08:00:00.040+08:00|                          4.0|                         null|\n|1970-01-01T08:00:00.060+08:00|                          6.0|                          6.0|\n+-----------------------------+-----------------------------+-----------------------------+\nTotal line number = 5\nIt costs 0.011s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("Input4：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("Result4：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+---------------------------+---------------------------+---------------------------+---------------------------+\n|                         Time|(root.sg.a + root.sg.b) * 3|(root.sg.a + root.ln.b) * 3|(root.ln.a + root.sg.b) * 3|(root.ln.a + root.ln.b) * 3|\n+-----------------------------+---------------------------+---------------------------+---------------------------+---------------------------+\n|1970-01-01T08:00:00.010+08:00|                       90.0|                      270.0|                      360.0|                      540.0|\n|1970-01-01T08:00:00.020+08:00|                      150.0|                      330.0|                      690.0|                      870.0|\n|1970-01-01T08:00:00.030+08:00|                      210.0|                      450.0|                      570.0|                      810.0|\n|1970-01-01T08:00:00.040+08:00|                      270.0|                      240.0|                      690.0|                      660.0|\n|1970-01-01T08:00:00.050+08:00|                      330.0|                       null|                       null|                       null|\n|1970-01-01T08:00:00.060+08:00|                      390.0|                       null|                       null|                       null|\n|1970-01-01T08:00:00.070+08:00|                      450.0|                       null|                       null|                       null|\n|1970-01-01T08:00:00.090+08:00|                       60.0|                       null|                       null|                       null|\n|1970-01-01T08:00:00.100+08:00|                       60.0|                       null|                       null|                       null|\n+-----------------------------+---------------------------+---------------------------+---------------------------+---------------------------+\nTotal line number = 9\nIt costs 0.014s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h5",{attrs:{id:"explanation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#explanation"}},[t._v("#")]),t._v(" Explanation")]),t._v(" "),a("ul",[a("li",[t._v("Only when the left operand and the right operand under a certain timestamp are not "),a("code",[t._v("null")]),t._v(", the nested expressions will have an output value. Otherwise this row will not be included in the result.\n"),a("ul",[a("li",[t._v("In Result1 of the Example part, the value of time series "),a("code",[t._v("root.sg.a")]),t._v(" at time 40 is 4, while the value of time series "),a("code",[t._v("root.sg.b")]),t._v(" is "),a("code",[t._v("null")]),t._v(". So at time 40, the value of nested expressions "),a("code",[t._v("(a + b) * 2 + sin(a)")]),t._v(" is "),a("code",[t._v("null")]),t._v(". So in Result2, this row is not included in the result.")])])]),t._v(" "),a("li",[t._v("If one operand in the nested expressions can be translated into multiple time series (For example, "),a("code",[t._v("*")]),t._v("), the result of each time series will be included in the result (Cartesian product). Please refer to Input3, Input4 and corresponding Result3 and Result4 in Example.")])]),t._v(" "),a("h5",{attrs:{id:"note"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("blockquote",[a("p",[t._v("Please note that Aligned Time Series has not been supported in Nested Expressions with Time Series Query yet. An error message is expected if you use it with Aligned Time Series selected in a query statement.")])]),t._v(" "),a("h3",{attrs:{id:"nested-expressions-query-with-aggregations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nested-expressions-query-with-aggregations"}},[t._v("#")]),t._v(" Nested Expressions query with aggregations")]),t._v(" "),a("p",[t._v("IoTDB supports the calculation of arbitrary nested expressions consisting of "),a("strong",[t._v("numbers, aggregations and arithmetic expressions")]),t._v(" in the "),a("code",[t._v("select")]),t._v(" clause.")]),t._v(" "),a("h5",{attrs:{id:"example-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-4"}},[t._v("#")]),t._v(" Example")]),t._v(" "),a("p",[t._v("Aggregation query without "),a("code",[t._v("GROUP BY")]),t._v(".")]),t._v(" "),a("p",[t._v("Input1:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hardware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hardware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("Result1:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+--------------------------------------------------------------------+\n|avg(root.ln.wf01.wt01.temperature)|sin(avg(root.ln.wf01.wt01.temperature))|avg(root.ln.wf01.wt01.temperature) + 1|-sum(root.ln.wf01.wt01.hardware)|avg(root.ln.wf01.wt01.temperature) + sum(root.ln.wf01.wt01.hardware)|\n+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+--------------------------------------------------------------------+\n|                15.927999999999999|                   -0.21826546964855045|                    16.927999999999997|                         -7426.0|                                                            7441.928|\n+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+--------------------------------------------------------------------+\nTotal line number = 1\nIt costs 0.009s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("Input2:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n\t   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("Result2:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+---------------+---------------+-------------------------------------+-------------------------------------+\n|avg(root.sg1.a)|avg(root.sg1.b)|(((avg(root.sg1.a) + 1) * 3) / 2) - 1|(((avg(root.sg1.b) + 1) * 3) / 2) - 1|\n+---------------+---------------+-------------------------------------+-------------------------------------+\n|            3.2|            3.4|                    5.300000000000001|                   5.6000000000000005|\n+---------------+---------------+-------------------------------------+-------------------------------------+\nTotal line number = 1\nIt costs 0.007s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("Aggregation with "),a("code",[t._v("GROUP BY")]),t._v(".")]),t._v(" "),a("p",[t._v("Input3:")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       sin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hardware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hardware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" custom_sum\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("Result3:")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("+-----------------------------+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+----------+\n|                         Time|avg(root.ln.wf01.wt01.temperature)|sin(avg(root.ln.wf01.wt01.temperature))|avg(root.ln.wf01.wt01.temperature) + 1|-sum(root.ln.wf01.wt01.hardware)|custom_sum|\n+-----------------------------+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+----------+\n|1970-01-01T08:00:00.010+08:00|                13.987499999999999|                     0.9888207947857667|                    14.987499999999999|                         -3211.0| 3224.9875|\n|1970-01-01T08:00:00.020+08:00|                              29.6|                    -0.9701057337071853|                                  30.6|                         -3720.0|    3749.6|\n|1970-01-01T08:00:00.030+08:00|                              null|                                   null|                                  null|                            null|      null|\n|1970-01-01T08:00:00.040+08:00|                              null|                                   null|                                  null|                            null|      null|\n|1970-01-01T08:00:00.050+08:00|                              null|                                   null|                                  null|                            null|      null|\n|1970-01-01T08:00:00.060+08:00|                              null|                                   null|                                  null|                            null|      null|\n|1970-01-01T08:00:00.070+08:00|                              null|                                   null|                                  null|                            null|      null|\n|1970-01-01T08:00:00.080+08:00|                              null|                                   null|                                  null|                            null|      null|\n+-----------------------------+----------------------------------+---------------------------------------+--------------------------------------+--------------------------------+----------+\nTotal line number = 8\nIt costs 0.012s\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h5",{attrs:{id:"explanation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#explanation-2"}},[t._v("#")]),t._v(" Explanation")]),t._v(" "),a("ul",[a("li",[t._v("Only when the left operand and the right operand under a certain timestamp are not "),a("code",[t._v("null")]),t._v(", the nested expressions will have an output value. Otherwise this row will not be included in the result. But for nested expressions with "),a("code",[t._v("GROUP BY")]),t._v(" clause, it is better to show the result of all time intervals. Please refer to Input3 and corresponding Result3 in Example.")]),t._v(" "),a("li",[t._v("If one operand in the nested expressions can be translated into multiple time series (For example, "),a("code",[t._v("*")]),t._v("), the result of each time series will be included in the result (Cartesian product). Please refer to Input2 and corresponding Result2 in Example.")])]),t._v(" "),a("h5",{attrs:{id:"note-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note-2"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("blockquote",[a("p",[t._v("Automated fill ("),a("code",[t._v("FILL")]),t._v(") and grouped by level ("),a("code",[t._v("GROUP BY LEVEL")]),t._v(") are not supported in an aggregation query with expression nested. They may be supported in future versions.")]),t._v(" "),a("p",[t._v("The aggregation expression must be the lowest level input of one expression tree. Any kind expressions except timeseries are not valid as aggregation function parameters。")]),t._v(" "),a("p",[t._v("In a word, the following queries are not valid.")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- The aggregation function has expression parameters.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEVEL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- Grouped by level")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("avg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" FILL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("previous"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- Automated fill")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("h2",{attrs:{id:"use-alias"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use-alias"}},[t._v("#")]),t._v(" Use Alias")]),t._v(" "),a("p",[t._v("Since the unique data model of IoTDB, lots of additional information like device will be carried before each sensor. Sometimes, we want to query just one specific device, then these prefix information show frequently will be redundant in this situation, influencing the analysis of result set. At this time, we can use "),a("code",[t._v("AS")]),t._v(" function provided by IoTDB, assign an alias to time series selected in query.")]),t._v(" "),a("p",[t._v("For example：")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" s1 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" temperature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s2 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" speed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ln"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wf01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("wt01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("The result set is：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Time")]),t._v(" "),a("th",[t._v("temperature")]),t._v(" "),a("th",[t._v("speed")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("...")]),t._v(" "),a("td",[t._v("...")]),t._v(" "),a("td",[t._v("...")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);