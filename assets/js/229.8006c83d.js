(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{883:function(e,t,s){"use strict";s.r(t);var n=s(93),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"communication-service-protocol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#communication-service-protocol"}},[e._v("#")]),e._v(" Communication Service protocol")]),e._v(" "),s("h2",{attrs:{id:"thrift-rpc-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#thrift-rpc-interface"}},[e._v("#")]),e._v(" Thrift rpc interface")]),e._v(" "),s("h3",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" introduction")]),e._v(" "),s("p",[e._v("Thrift is a remote procedure call software framework for the development of extensible and cross-language services.\nIt combines a powerful software stack and code generation engine,\nIn order to build seamlessly integrated and efficient services among programming languages ​​such as C++, Java, Go, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and OCaml.")]),e._v(" "),s("p",[e._v("IoTDB server and client use thrift for communication. In actual use, it is recommended to use the native client package provided by IoTDB:\nSession or Session Pool. If you have special needs, you can also program directly against the RPC interface")]),e._v(" "),s("p",[e._v("The default IoTDB server uses port 6667 as the RPC communication port, you can modify the configuration item")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("rpc_port=6667\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("to change the default thrift port")]),e._v(" "),s("h3",{attrs:{id:"rpc-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rpc-interface"}},[e._v("#")]),e._v(" rpc interface")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// open a session\nTSOpenSessionResp openSession(1:TSOpenSessionReq req);\n\n// close a session\nTSStatus closeSession(1:TSCloseSessionReq req);\n\n// run an SQL statement in batch\nTSExecuteStatementResp executeStatement(1:TSExecuteStatementReq req);\n\n// execute SQL statement in batch\nTSStatus executeBatchStatement(1:TSExecuteBatchStatementReq req);\n\n// execute query SQL statement\nTSExecuteStatementResp executeQueryStatement(1:TSExecuteStatementReq req);\n\n// execute insert, delete and update SQL statement \nTSExecuteStatementResp executeUpdateStatement(1:TSExecuteStatementReq req);\n\n// fetch next query result\nTSFetchResultsResp fetchResults(1:TSFetchResultsReq req)\n\n// fetch meta data\nTSFetchMetadataResp fetchMetadata(1:TSFetchMetadataReq req)\n\n// cancel a query \nTSStatus cancelOperation(1:TSCancelOperationReq req);\n\n// close a query dataset\nTSStatus closeOperation(1:TSCloseOperationReq req);\n\n// get time zone\nTSGetTimeZoneResp getTimeZone(1:i64 sessionId);\n\n// set time zone\nTSStatus setTimeZone(1:TSSetTimeZoneReq req);\n\n// get server's properties\nServerProperties getProperties();\n\n// set storage group\nTSStatus setStorageGroup(1:i64 sessionId, 2:string storageGroup);\n\n// create timeseries\nTSStatus createTimeseries(1:TSCreateTimeseriesReq req);\n\n// create multi timeseries\nTSStatus createMultiTimeseries(1:TSCreateMultiTimeseriesReq req);\n\n// delete timeseries\nTSStatus deleteTimeseries(1:i64 sessionId, 2:list<string> path)\n\n// delete sttorage groups\nTSStatus deleteStorageGroups(1:i64 sessionId, 2:list<string> storageGroup);\n\n// insert record\nTSStatus insertRecord(1:TSInsertRecordReq req);\n\n// insert record in string format\nTSStatus insertStringRecord(1:TSInsertStringRecordReq req);\n\n// insert tablet\nTSStatus insertTablet(1:TSInsertTabletReq req);\n\n// insert tablets in batch\nTSStatus insertTablets(1:TSInsertTabletsReq req);\n\n// insert records in batch\nTSStatus insertRecords(1:TSInsertRecordsReq req);\n\n// insert records of one device\nTSStatus insertRecordsOfOneDevice(1:TSInsertRecordsOfOneDeviceReq req);\n\n// insert records in batch as string format\nTSStatus insertStringRecords(1:TSInsertStringRecordsReq req);\n\n// test the latency of innsert tablet，caution：no data will be inserted, only for test latency\nTSStatus testInsertTablet(1:TSInsertTabletReq req);\n\n// test the latency of innsert tablets，caution：no data will be inserted, only for test latency\nTSStatus testInsertTablets(1:TSInsertTabletsReq req);\n\n// test the latency of innsert record，caution：no data will be inserted, only for test latency\nTSStatus testInsertRecord(1:TSInsertRecordReq req);\n\n// test the latency of innsert record in string format，caution：no data will be inserted, only for test latency\nTSStatus testInsertStringRecord(1:TSInsertStringRecordReq req);\n\n// test the latency of innsert records，caution：no data will be inserted, only for test latency\nTSStatus testInsertRecords(1:TSInsertRecordsReq req);\n\n// test the latency of innsert records of one device，caution：no data will be inserted, only for test latency\nTSStatus testInsertRecordsOfOneDevice(1:TSInsertRecordsOfOneDeviceReq req);\n\n// test the latency of innsert records in string formate，caution：no data will be inserted, only for test latency\nTSStatus testInsertStringRecords(1:TSInsertStringRecordsReq req);\n\n// delete data\nTSStatus deleteData(1:TSDeleteDataReq req);\n\n// execute raw data query\nTSExecuteStatementResp executeRawDataQuery(1:TSRawDataQueryReq req);\n\n// request a statement id from server\ni64 requestStatementId(1:i64 sessionId);\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br"),s("span",{staticClass:"line-number"},[e._v("34")]),s("br"),s("span",{staticClass:"line-number"},[e._v("35")]),s("br"),s("span",{staticClass:"line-number"},[e._v("36")]),s("br"),s("span",{staticClass:"line-number"},[e._v("37")]),s("br"),s("span",{staticClass:"line-number"},[e._v("38")]),s("br"),s("span",{staticClass:"line-number"},[e._v("39")]),s("br"),s("span",{staticClass:"line-number"},[e._v("40")]),s("br"),s("span",{staticClass:"line-number"},[e._v("41")]),s("br"),s("span",{staticClass:"line-number"},[e._v("42")]),s("br"),s("span",{staticClass:"line-number"},[e._v("43")]),s("br"),s("span",{staticClass:"line-number"},[e._v("44")]),s("br"),s("span",{staticClass:"line-number"},[e._v("45")]),s("br"),s("span",{staticClass:"line-number"},[e._v("46")]),s("br"),s("span",{staticClass:"line-number"},[e._v("47")]),s("br"),s("span",{staticClass:"line-number"},[e._v("48")]),s("br"),s("span",{staticClass:"line-number"},[e._v("49")]),s("br"),s("span",{staticClass:"line-number"},[e._v("50")]),s("br"),s("span",{staticClass:"line-number"},[e._v("51")]),s("br"),s("span",{staticClass:"line-number"},[e._v("52")]),s("br"),s("span",{staticClass:"line-number"},[e._v("53")]),s("br"),s("span",{staticClass:"line-number"},[e._v("54")]),s("br"),s("span",{staticClass:"line-number"},[e._v("55")]),s("br"),s("span",{staticClass:"line-number"},[e._v("56")]),s("br"),s("span",{staticClass:"line-number"},[e._v("57")]),s("br"),s("span",{staticClass:"line-number"},[e._v("58")]),s("br"),s("span",{staticClass:"line-number"},[e._v("59")]),s("br"),s("span",{staticClass:"line-number"},[e._v("60")]),s("br"),s("span",{staticClass:"line-number"},[e._v("61")]),s("br"),s("span",{staticClass:"line-number"},[e._v("62")]),s("br"),s("span",{staticClass:"line-number"},[e._v("63")]),s("br"),s("span",{staticClass:"line-number"},[e._v("64")]),s("br"),s("span",{staticClass:"line-number"},[e._v("65")]),s("br"),s("span",{staticClass:"line-number"},[e._v("66")]),s("br"),s("span",{staticClass:"line-number"},[e._v("67")]),s("br"),s("span",{staticClass:"line-number"},[e._v("68")]),s("br"),s("span",{staticClass:"line-number"},[e._v("69")]),s("br"),s("span",{staticClass:"line-number"},[e._v("70")]),s("br"),s("span",{staticClass:"line-number"},[e._v("71")]),s("br"),s("span",{staticClass:"line-number"},[e._v("72")]),s("br"),s("span",{staticClass:"line-number"},[e._v("73")]),s("br"),s("span",{staticClass:"line-number"},[e._v("74")]),s("br"),s("span",{staticClass:"line-number"},[e._v("75")]),s("br"),s("span",{staticClass:"line-number"},[e._v("76")]),s("br"),s("span",{staticClass:"line-number"},[e._v("77")]),s("br"),s("span",{staticClass:"line-number"},[e._v("78")]),s("br"),s("span",{staticClass:"line-number"},[e._v("79")]),s("br"),s("span",{staticClass:"line-number"},[e._v("80")]),s("br"),s("span",{staticClass:"line-number"},[e._v("81")]),s("br"),s("span",{staticClass:"line-number"},[e._v("82")]),s("br"),s("span",{staticClass:"line-number"},[e._v("83")]),s("br"),s("span",{staticClass:"line-number"},[e._v("84")]),s("br"),s("span",{staticClass:"line-number"},[e._v("85")]),s("br"),s("span",{staticClass:"line-number"},[e._v("86")]),s("br"),s("span",{staticClass:"line-number"},[e._v("87")]),s("br"),s("span",{staticClass:"line-number"},[e._v("88")]),s("br"),s("span",{staticClass:"line-number"},[e._v("89")]),s("br"),s("span",{staticClass:"line-number"},[e._v("90")]),s("br"),s("span",{staticClass:"line-number"},[e._v("91")]),s("br"),s("span",{staticClass:"line-number"},[e._v("92")]),s("br"),s("span",{staticClass:"line-number"},[e._v("93")]),s("br"),s("span",{staticClass:"line-number"},[e._v("94")]),s("br"),s("span",{staticClass:"line-number"},[e._v("95")]),s("br"),s("span",{staticClass:"line-number"},[e._v("96")]),s("br"),s("span",{staticClass:"line-number"},[e._v("97")]),s("br"),s("span",{staticClass:"line-number"},[e._v("98")]),s("br"),s("span",{staticClass:"line-number"},[e._v("99")]),s("br"),s("span",{staticClass:"line-number"},[e._v("100")]),s("br"),s("span",{staticClass:"line-number"},[e._v("101")]),s("br"),s("span",{staticClass:"line-number"},[e._v("102")]),s("br"),s("span",{staticClass:"line-number"},[e._v("103")]),s("br"),s("span",{staticClass:"line-number"},[e._v("104")]),s("br")])]),s("h3",{attrs:{id:"idl-file-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#idl-file-path"}},[e._v("#")]),e._v(" IDL file path")]),e._v(" "),s("p",[e._v('IDL file path is "thrift/src/main/thrift/rpc.thrift" which includes interface and struct')]),e._v(" "),s("h3",{attrs:{id:"target-file-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#target-file-path"}},[e._v("#")]),e._v(" target file path")]),e._v(" "),s("p",[e._v('We will use thrift compile IDL file in mvn Compilation, in which generate target .class file\ntarget file path is "thrift/target/classes/org/apache/iotdb/service/rpc/thrift"')])])}),[],!1,null,null,null);t.default=a.exports}}]);